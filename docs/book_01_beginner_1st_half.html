<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 初級編前半 | データエンジニアリング人材養成演習補助教材</title>
  <meta name="description" content="本ページは、滋賀大学の集中講義「データエンジニアリング人材養成演習」の補助教材です。" />
  <meta name="generator" content="bookdown 0.21.6 and GitBook 2.6.7" />

  <meta property="og:title" content="2 初級編前半 | データエンジニアリング人材養成演習補助教材" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="本ページは、滋賀大学の集中講義「データエンジニアリング人材養成演習」の補助教材です。" />
  <meta name="github-repo" content="DEMLC/Educational-materials" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 初級編前半 | データエンジニアリング人材養成演習補助教材" />
  
  <meta name="twitter:description" content="本ページは、滋賀大学の集中講義「データエンジニアリング人材養成演習」の補助教材です。" />
  

<meta name="author" content="滋賀大学DEMLセンター" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="book_00_introduction.html"/>
<link rel="next" href="book_02_beginner_2nd_half.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="https://demlc.github.io/Educational-materials/">DE人材養成演習補助教材</a></strong></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>はじめに</a></li>
<li class="chapter" data-level="1" data-path="book_00_introduction.html"><a href="book_00_introduction.html"><i class="fa fa-check"></i><b>1</b> 導入編</a>
<ul>
<li class="chapter" data-level="1.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#本資料について"><i class="fa fa-check"></i><b>1.1</b> 本資料について</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#対象読者"><i class="fa fa-check"></i><b>1.1.1</b> 対象読者</a></li>
<li class="chapter" data-level="1.1.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#目的"><i class="fa fa-check"></i><b>1.1.2</b> 目的</a></li>
<li class="chapter" data-level="1.1.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#構成"><i class="fa fa-check"></i><b>1.1.3</b> 構成</a></li>
<li class="chapter" data-level="1.1.4" data-path="book_00_introduction.html"><a href="book_00_introduction.html#到達目標"><i class="fa fa-check"></i><b>1.1.4</b> 到達目標</a></li>
<li class="chapter" data-level="1.1.5" data-path="book_00_introduction.html"><a href="book_00_introduction.html#導入編の内容"><i class="fa fa-check"></i><b>1.1.5</b> 導入編の内容</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#tidyverse"><i class="fa fa-check"></i><b>1.2</b> tidyverse</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#what_tidyverse"><i class="fa fa-check"></i><b>1.2.1</b> tidyverseとは</a></li>
<li class="chapter" data-level="1.2.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#why_tidyverse"><i class="fa fa-check"></i><b>1.2.2</b> なぜtidyverseを使うのか</a></li>
<li class="chapter" data-level="1.2.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#install_tidyverse"><i class="fa fa-check"></i><b>1.2.3</b> tidyverseのインストールと読込</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#tibble"><i class="fa fa-check"></i><b>1.3</b> tibble</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#about_tibble"><i class="fa fa-check"></i><b>1.3.1</b> tibbleとは</a></li>
<li class="chapter" data-level="1.3.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#コンソール表示の比較"><i class="fa fa-check"></i><b>1.3.2</b> コンソール表示の比較</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="book_00_introduction.html"><a href="book_00_introduction.html#パイプ演算子"><i class="fa fa-check"></i><b>1.4</b> パイプ演算子 %&gt;%</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#what_pipe"><i class="fa fa-check"></i><b>1.4.1</b> パイプ演算子とは</a></li>
<li class="chapter" data-level="1.4.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#pipemerit"><i class="fa fa-check"></i><b>1.4.2</b> パイプ演算子のメリット</a></li>
<li class="chapter" data-level="1.4.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#pipe_sanko"><i class="fa fa-check"></i><b>1.4.3</b> 参考</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="book_00_introduction.html"><a href="book_00_introduction.html#プロジェクト"><i class="fa fa-check"></i><b>1.5</b> プロジェクト</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#プロジェクトとは"><i class="fa fa-check"></i><b>1.5.1</b> プロジェクトとは</a></li>
<li class="chapter" data-level="1.5.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#Rproject"><i class="fa fa-check"></i><b>1.5.2</b> R project</a></li>
<li class="chapter" data-level="1.5.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#Rproject_create"><i class="fa fa-check"></i><b>1.5.3</b> R projectの作成</a></li>
<li class="chapter" data-level="1.5.4" data-path="book_00_introduction.html"><a href="book_00_introduction.html#Rproject_pros"><i class="fa fa-check"></i><b>1.5.4</b> R projectの利点</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="book_00_introduction.html"><a href="book_00_introduction.html#ディレクトリフォルダ構成"><i class="fa fa-check"></i><b>1.6</b> ディレクトリ(フォルダ)構成</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#ディレクトリ構成とは"><i class="fa fa-check"></i><b>1.6.1</b> ディレクトリ構成とは</a></li>
<li class="chapter" data-level="1.6.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#demo_dirのディレクトリ構成詳細"><i class="fa fa-check"></i><b>1.6.2</b> <strong>demo_dir</strong>のディレクトリ構成詳細</a></li>
<li class="chapter" data-level="1.6.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#ディレクトリ構成を定義するメリット"><i class="fa fa-check"></i><b>1.6.3</b> ディレクトリ構成を定義するメリット</a></li>
<li class="chapter" data-level="1.6.4" data-path="book_00_introduction.html"><a href="book_00_introduction.html#ディレクトリ構成の事例"><i class="fa fa-check"></i><b>1.6.4</b> ディレクトリ構成の事例</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="book_00_introduction.html"><a href="book_00_introduction.html#here"><i class="fa fa-check"></i><b>1.7</b> here</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#whats_here"><i class="fa fa-check"></i><b>1.7.1</b> hereパッケージとは</a></li>
<li class="chapter" data-level="1.7.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#path_problem"><i class="fa fa-check"></i><b>1.7.2</b> pathの悩みの具体例</a></li>
<li class="chapter" data-level="1.7.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#solve_path_problem"><i class="fa fa-check"></i><b>1.7.3</b> hereによる悩みの解消</a></li>
<li class="chapter" data-level="1.7.4" data-path="book_00_introduction.html"><a href="book_00_introduction.html#悩み事例の視覚的説明"><i class="fa fa-check"></i><b>1.7.4</b> 悩み事例の視覚的説明</a></li>
<li class="chapter" data-level="1.7.5" data-path="book_00_introduction.html"><a href="book_00_introduction.html#OS_ploblem"><i class="fa fa-check"></i><b>1.7.5</b> 異なるOS/個人間によるpath相違の解消</a></li>
<li class="chapter" data-level="1.7.6" data-path="book_00_introduction.html"><a href="book_00_introduction.html#solve_os_ploblem"><i class="fa fa-check"></i><b>1.7.6</b> hereを使ったpath</a></li>
<li class="chapter" data-level="1.7.7" data-path="book_00_introduction.html"><a href="book_00_introduction.html#how_here"><i class="fa fa-check"></i><b>1.7.7</b> hereの使い方</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="book_00_introduction.html"><a href="book_00_introduction.html#helpファイルの開き方"><i class="fa fa-check"></i><b>1.8</b> helpファイルの開き方</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#コードが動かないときの対処法"><i class="fa fa-check"></i><b>1.8.1</b> コードが動かないときの対処法</a></li>
<li class="chapter" data-level="1.8.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#help_open"><i class="fa fa-check"></i><b>1.8.2</b> “？関数名”でhelp</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="book_00_introduction.html"><a href="book_00_introduction.html#クォーテーションの使いわけ"><i class="fa fa-check"></i><b>1.9</b> クォーテーションの使いわけ</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="book_00_introduction.html"><a href="book_00_introduction.html#クォートを使うとき"><i class="fa fa-check"></i><b>1.9.1</b> クォートを使うとき</a></li>
<li class="chapter" data-level="1.9.2" data-path="book_00_introduction.html"><a href="book_00_introduction.html#ダブルクォートシングルクォート"><i class="fa fa-check"></i><b>1.9.2</b> ダブルクォート・シングルクォート</a></li>
<li class="chapter" data-level="1.9.3" data-path="book_00_introduction.html"><a href="book_00_introduction.html#バッククォート"><i class="fa fa-check"></i><b>1.9.3</b> バッククォート</a></li>
<li class="chapter" data-level="1.9.4" data-path="book_00_introduction.html"><a href="book_00_introduction.html#括弧つきカラムの参照"><i class="fa fa-check"></i><b>1.9.4</b> 括弧つきカラムの参照</a></li>
<li class="chapter" data-level="1.9.5" data-path="book_00_introduction.html"><a href="book_00_introduction.html#非標準文字列は必ずバッククォートを使用"><i class="fa fa-check"></i><b>1.9.5</b> 非標準文字列は必ずバッククォートを使用</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="book_00_introduction.html"><a href="book_00_introduction.html#おわり"><i class="fa fa-check"></i>おわり</a>
<ul>
<li class="chapter" data-level="" data-path="book_00_introduction.html"><a href="book_00_introduction.html#著者"><i class="fa fa-check"></i>著者</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html"><i class="fa fa-check"></i><b>2</b> 初級編前半</a>
<ul>
<li class="chapter" data-level="" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#はじめに-1"><i class="fa fa-check"></i>はじめに</a>
<ul>
<li class="chapter" data-level="" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#研磨ストーリー"><i class="fa fa-check"></i>研磨ストーリー</a></li>
<li class="chapter" data-level="" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#作業イメージ"><i class="fa fa-check"></i>作業イメージ</a></li>
<li class="chapter" data-level="" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ディレクトリ構成"><i class="fa fa-check"></i>ディレクトリ構成</a></li>
<li class="chapter" data-level="" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ライブラリを読み込む"><i class="fa fa-check"></i>ライブラリを読み込む</a></li>
</ul></li>
<li class="chapter" data-level="2.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ステップ１csvファイルの読み込み"><i class="fa fa-check"></i><b>2.1</b> ステップ１：CSVファイルの読み込み</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#sagyou_step1"><i class="fa fa-check"></i><b>2.1.1</b> 作業内容</a></li>
<li class="chapter" data-level="2.1.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#read_csv"><i class="fa fa-check"></i><b>2.1.2</b> <strong>read_csv</strong>でcsvデータを読み込む</a></li>
<li class="chapter" data-level="2.1.3" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#read_csv_args"><i class="fa fa-check"></i><b>2.1.3</b> read_csvの主要な引数</a></li>
<li class="chapter" data-level="2.1.4" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#col_typesの書き方"><i class="fa fa-check"></i><b>2.1.4</b> col_typesの書き方</a></li>
<li class="chapter" data-level="2.1.5" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#read_cosmos2"><i class="fa fa-check"></i><b>2.1.5</b> COSMOS2（c2）データの読み込み</a></li>
<li class="chapter" data-level="2.1.6" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#glimpse"><i class="fa fa-check"></i><b>2.1.6</b> <strong>glimpse</strong>でデータを見る</a></li>
<li class="chapter" data-level="2.1.7" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#読み込み時に注意すべき例０落ち"><i class="fa fa-check"></i><b>2.1.7</b> 読み込み時に注意すべき例：０落ち</a></li>
<li class="chapter" data-level="2.1.8" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#生データの確認方法"><i class="fa fa-check"></i><b>2.1.8</b> 生データの確認方法</a></li>
<li class="chapter" data-level="2.1.9" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step1_sanko1"><i class="fa fa-check"></i><b>2.1.9</b> 参考１：カラム型指定tips</a></li>
<li class="chapter" data-level="2.1.10" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step1_sanko2"><i class="fa fa-check"></i><b>2.1.10</b> 参考２：()付きカラムの取り扱い</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ステップ２データの縦結合"><i class="fa fa-check"></i><b>2.2</b> ステップ２：データの縦結合</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#sagyou_step2"><i class="fa fa-check"></i><b>2.2.1</b> 作業内容</a></li>
<li class="chapter" data-level="2.2.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#bind_rowsでデータの縦行結合"><i class="fa fa-check"></i><b>2.2.2</b> <strong>bind_rows</strong>でデータの縦(行)結合</a></li>
<li class="chapter" data-level="2.2.3" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#参考１３つ以上のデータの縦結合"><i class="fa fa-check"></i><b>2.2.3</b> 参考１：３つ以上のデータの縦結合</a></li>
<li class="chapter" data-level="2.2.4" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#参考２カラム名不一致データの縦結合"><i class="fa fa-check"></i><b>2.2.4</b> 参考２：カラム名不一致データの縦結合</a></li>
<li class="chapter" data-level="2.2.5" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#参考３データの横列結合"><i class="fa fa-check"></i><b>2.2.5</b> 参考３：データの横（列）結合</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ステップ３レコードの重複消去"><i class="fa fa-check"></i><b>2.3</b> ステップ３：レコードの重複消去</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#sagyou_step3"><i class="fa fa-check"></i><b>2.3.1</b> 作業内容</a></li>
<li class="chapter" data-level="2.3.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#n_distinct"><i class="fa fa-check"></i><b>2.3.2</b> <strong>n_distinct</strong>で重複があるか調べる</a></li>
<li class="chapter" data-level="2.3.3" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#distinctで重複レコードの消去"><i class="fa fa-check"></i><b>2.3.3</b> <strong>distinct</strong>で重複レコードの消去</a></li>
<li class="chapter" data-level="2.3.4" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#企業コードの重複確認と重複消去"><i class="fa fa-check"></i><b>2.3.4</b> 企業コードの重複確認と重複消去</a></li>
<li class="chapter" data-level="2.3.5" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step3_sanko1"><i class="fa fa-check"></i><b>2.3.5</b> 参考１：複数カラムデータの重複消去</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ステップ４カラムの選択"><i class="fa fa-check"></i><b>2.4</b> ステップ４：カラムの選択</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#sagyou_step4"><i class="fa fa-check"></i><b>2.4.1</b> 作業内容</a></li>
<li class="chapter" data-level="2.4.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#必要なカラム"><i class="fa fa-check"></i><b>2.4.2</b> 必要なカラム</a></li>
<li class="chapter" data-level="2.4.3" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#selectでカラムの選択"><i class="fa fa-check"></i><b>2.4.3</b> <strong>select</strong>でカラムの選択</a></li>
<li class="chapter" data-level="2.4.4" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step4_sanko1"><i class="fa fa-check"></i><b>2.4.4</b> 参考１：不要な読み込みはしない</a></li>
<li class="chapter" data-level="2.4.5" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step4_sanko2"><i class="fa fa-check"></i><b>2.4.5</b> 参考２：ベクトルで変数の選択</a></li>
<li class="chapter" data-level="2.4.6" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step4_sanko3"><i class="fa fa-check"></i><b>2.4.6</b> 参考３：変数消去</a></li>
<li class="chapter" data-level="2.4.7" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step4_sanko4"><i class="fa fa-check"></i><b>2.4.7</b> 参考４：クォート</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#ステップ５データの横結合"><i class="fa fa-check"></i><b>2.5</b> ステップ５：データの横結合</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#sagyou_step5"><i class="fa fa-check"></i><b>2.5.1</b> 作業内容</a></li>
<li class="chapter" data-level="2.5.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#いろいろな結合方法"><i class="fa fa-check"></i><b>2.5.2</b> いろいろな結合方法</a></li>
<li class="chapter" data-level="2.5.3" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#left_join_image"><i class="fa fa-check"></i><b>2.5.3</b> left_joinのイメージ</a></li>
<li class="chapter" data-level="2.5.4" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#結合する方法を決める"><i class="fa fa-check"></i><b>2.5.4</b> 結合する方法を決める</a></li>
<li class="chapter" data-level="2.5.5" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#left_joinでデータの結合"><i class="fa fa-check"></i><b>2.5.5</b> <strong>left_join</strong>でデータの結合</a></li>
<li class="chapter" data-level="2.5.6" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#step5_sanko"><i class="fa fa-check"></i><b>2.5.6</b> 参考：right_join</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#箸休めスライド"><i class="fa fa-check"></i><b>2.6</b> 箸休めスライド</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#relocateでカラムを少しだけ並び替え"><i class="fa fa-check"></i><b>2.6.1</b> relocateでカラムを少しだけ並び替え</a></li>
<li class="chapter" data-level="2.6.2" data-path="book_01_beginner_1st_half.html"><a href="book_01_beginner_1st_half.html#tabキーで補完入力"><i class="fa fa-check"></i><b>2.6.2</b> Tabキーで補完入力</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html"><i class="fa fa-check"></i><b>3</b> 初級編後半</a>
<ul>
<li class="chapter" data-level="" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#作業の確認"><i class="fa fa-check"></i>作業の確認</a>
<ul>
<li class="chapter" data-level="" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#研磨ストーリー-1"><i class="fa fa-check"></i>研磨ストーリー</a></li>
<li class="chapter" data-level="" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#作業イメージ-1"><i class="fa fa-check"></i>作業イメージ</a></li>
<li class="chapter" data-level="" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#前半の成果物"><i class="fa fa-check"></i>前半の成果物</a></li>
</ul></li>
<li class="chapter" data-level="3.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ６カラム操作の基本"><i class="fa fa-check"></i><b>3.1</b> ステップ６：カラム操作の基本</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step6"><i class="fa fa-check"></i><b>3.1.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.1.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#mutateの基本"><i class="fa fa-check"></i><b>3.1.2</b> <strong>mutate</strong>の基本</a></li>
<li class="chapter" data-level="3.1.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#mutate_example"><i class="fa fa-check"></i><b>3.1.3</b> mutateの使用例</a></li>
<li class="chapter" data-level="3.1.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#hosoku_mutate"><i class="fa fa-check"></i><b>3.1.4</b> 補足</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ７カラムの新設"><i class="fa fa-check"></i><b>3.2</b> ステップ７：カラムの新設</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step7"><i class="fa fa-check"></i><b>3.2.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.2.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#substrで文字列の部分抽出"><i class="fa fa-check"></i><b>3.2.2</b> <strong>substr</strong>で文字列の部分抽出</a></li>
<li class="chapter" data-level="3.2.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#都道府県コードカラムの新設"><i class="fa fa-check"></i><b>3.2.3</b> 都道府県コードカラムの新設</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ８マスタの結合"><i class="fa fa-check"></i><b>3.3</b> ステップ８：マスタの結合</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step8"><i class="fa fa-check"></i><b>3.3.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.3.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#read_ken_mst"><i class="fa fa-check"></i><b>3.3.2</b> 都道府県マスタの読み込み</a></li>
<li class="chapter" data-level="3.3.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#join_failed"><i class="fa fa-check"></i><b>3.3.3</b> data_2にken_mstを結合（失敗）</a></li>
<li class="chapter" data-level="3.3.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#renameでカラム名の変更"><i class="fa fa-check"></i><b>3.3.4</b> <strong>rename</strong>でカラム名の変更</a></li>
<li class="chapter" data-level="3.3.5" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#join_success"><i class="fa fa-check"></i><b>3.3.5</b> data_2にken_mstをジョイン（成功）</a></li>
<li class="chapter" data-level="3.3.6" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#不一致なカラム名をキーにする方法"><i class="fa fa-check"></i><b>3.3.6</b> 不一致なカラム名をキーにする方法</a></li>
<li class="chapter" data-level="3.3.7" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#hosoku_join_mst"><i class="fa fa-check"></i><b>3.3.7</b> 補足</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ９文字列の結合"><i class="fa fa-check"></i><b>3.4</b> ステップ９：文字列の結合</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step9"><i class="fa fa-check"></i><b>3.4.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.4.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#pasteで文字列の結合"><i class="fa fa-check"></i><b>3.4.2</b> <strong>paste</strong>で文字列の結合</a></li>
<li class="chapter" data-level="3.4.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#都道府県カラムの作成"><i class="fa fa-check"></i><b>3.4.3</b> 都道府県カラムの作成</a></li>
<li class="chapter" data-level="3.4.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#step9_sanko"><i class="fa fa-check"></i><b>3.4.4</b> 参考：paste0</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ１０指標の作成"><i class="fa fa-check"></i><b>3.5</b> ステップ１０：指標の作成</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step10"><i class="fa fa-check"></i><b>3.5.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.5.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#売上高利益率カラムの作成"><i class="fa fa-check"></i><b>3.5.2</b> 売上高利益率カラムの作成</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ１１条件分岐処理"><i class="fa fa-check"></i><b>3.6</b> ステップ１１：条件分岐処理</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step11"><i class="fa fa-check"></i><b>3.6.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.6.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#if_else_ifelse_case_when"><i class="fa fa-check"></i><b>3.6.2</b> if_else, ifelse, case_when</a></li>
<li class="chapter" data-level="3.6.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#example_if_else_ifelse"><i class="fa fa-check"></i><b>3.6.3</b> if_else, ifelseの使用例</a></li>
<li class="chapter" data-level="3.6.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#if_else_isbetter"><i class="fa fa-check"></i><b>3.6.4</b> <strong>if_else</strong>はifelseより厳格</a></li>
<li class="chapter" data-level="3.6.5" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#case_whenの使用例"><i class="fa fa-check"></i><b>3.6.5</b> case_whenの使用例</a></li>
<li class="chapter" data-level="3.6.6" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#if_else_ver"><i class="fa fa-check"></i><b>3.6.6</b> 従業員数レンジカラム作成(if_else)</a></li>
<li class="chapter" data-level="3.6.7" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#case_when_ver"><i class="fa fa-check"></i><b>3.6.7</b> 従業員数レンジカラム作成(case_when)</a></li>
<li class="chapter" data-level="3.6.8" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#step11_sanko"><i class="fa fa-check"></i><b>3.6.8</b> 参考：条件式</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ１２ソート"><i class="fa fa-check"></i><b>3.7</b> ステップ１２：ソート</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step12"><i class="fa fa-check"></i><b>3.7.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.7.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#arrangeでソート"><i class="fa fa-check"></i><b>3.7.2</b> <strong>arrange</strong>でソート</a></li>
<li class="chapter" data-level="3.7.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#複数カラムでソート"><i class="fa fa-check"></i><b>3.7.3</b> 複数カラムでソート</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ１３グループ集計"><i class="fa fa-check"></i><b>3.8</b> ステップ１３：グループ集計</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step13"><i class="fa fa-check"></i><b>3.8.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.8.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#how_group_summarise"><i class="fa fa-check"></i><b>3.8.2</b> <strong>group_by</strong>と<strong>summarise</strong>での集計方法</a></li>
<li class="chapter" data-level="3.8.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#複数カラムでグループ集計"><i class="fa fa-check"></i><b>3.8.3</b> 複数カラムでグループ集計</a></li>
<li class="chapter" data-level="3.8.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#step13_sanko1"><i class="fa fa-check"></i><b>3.8.4</b> 参考１：mutateとの違い</a></li>
<li class="chapter" data-level="3.8.5" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#step13_sanko2"><i class="fa fa-check"></i><b>3.8.5</b> 参考２：グループごとのレコード数を集計</a></li>
<li class="chapter" data-level="3.8.6" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#step13_sanko3"><i class="fa fa-check"></i><b>3.8.6</b> 参考３：ピボットテーブル</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ１４条件抽出"><i class="fa fa-check"></i><b>3.9</b> ステップ１４：条件抽出</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step14"><i class="fa fa-check"></i><b>3.9.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.9.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#filterで条件抽出"><i class="fa fa-check"></i><b>3.9.2</b> <strong>filter</strong>で条件抽出</a></li>
<li class="chapter" data-level="3.9.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#複数条件で抽出"><i class="fa fa-check"></i><b>3.9.3</b> 複数条件で抽出</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#ステップ１５ファイル出力"><i class="fa fa-check"></i><b>3.10</b> ステップ１５：ファイル出力</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#sagyou_step15"><i class="fa fa-check"></i><b>3.10.1</b> 作業内容</a></li>
<li class="chapter" data-level="3.10.2" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#不要な変数の消去"><i class="fa fa-check"></i><b>3.10.2</b> 不要な変数の消去</a></li>
<li class="chapter" data-level="3.10.3" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#カラムの並び替え"><i class="fa fa-check"></i><b>3.10.3</b> カラムの並び替え</a></li>
<li class="chapter" data-level="3.10.4" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#output_file"><i class="fa fa-check"></i><b>3.10.4</b> <strong>write_csv</strong>でcsvファイルの出力</a></li>
<li class="chapter" data-level="3.10.5" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#step15_sanko"><i class="fa fa-check"></i><b>3.10.5</b> 参考：ファイル出力のencoding</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="book_02_beginner_2nd_half.html"><a href="book_02_beginner_2nd_half.html#おわり-1"><i class="fa fa-check"></i>おわり</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html"><i class="fa fa-check"></i><b>4</b> 中級編前半</a>
<ul>
<li class="chapter" data-level="" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#はじめに-2"><i class="fa fa-check"></i>はじめに</a>
<ul>
<li class="chapter" data-level="" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#中級の作業イメージ"><i class="fa fa-check"></i>中級の作業イメージ</a></li>
<li class="chapter" data-level="" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#目次中級前半"><i class="fa fa-check"></i>目次（中級前半）</a></li>
</ul></li>
<li class="chapter" data-level="4.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#fukusuu_image"><i class="fa fa-check"></i><b>4.1</b> 複数ファイルの一括読み込み<br>(イメージ)</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#読み込むデータの確認"><i class="fa fa-check"></i><b>4.1.1</b> 読み込むデータの確認</a></li>
<li class="chapter" data-level="4.1.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#単純な方法"><i class="fa fa-check"></i><b>4.1.2</b> 単純な方法</a></li>
<li class="chapter" data-level="4.1.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for文を使用する方法"><i class="fa fa-check"></i><b>4.1.3</b> for文を使用する方法</a></li>
<li class="chapter" data-level="4.1.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_image"><i class="fa fa-check"></i><b>4.1.4</b> for文5ステップのイメージ</a></li>
<li class="chapter" data-level="4.1.5" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for文による繰り返し処理のススメ"><i class="fa fa-check"></i><b>4.1.5</b> for文による繰り返し処理のススメ</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#list"><i class="fa fa-check"></i><b>4.2</b> list</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#about_list"><i class="fa fa-check"></i><b>4.2.1</b> listとは</a></li>
<li class="chapter" data-level="4.2.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#image_list"><i class="fa fa-check"></i><b>4.2.2</b> listのイメージ</a></li>
<li class="chapter" data-level="4.2.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#make_list"><i class="fa fa-check"></i><b>4.2.3</b> listの作成</a></li>
<li class="chapter" data-level="4.2.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#append_list"><i class="fa fa-check"></i><b>4.2.4</b> listに要素を追加する</a></li>
<li class="chapter" data-level="4.2.5" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#access_list"><i class="fa fa-check"></i><b>4.2.5</b> listの要素にアクセス</a></li>
<li class="chapter" data-level="4.2.6" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#list_access_image"><i class="fa fa-check"></i><b>4.2.6</b> listの要素アクセスイメージ</a></li>
<li class="chapter" data-level="4.2.7" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#names_list"><i class="fa fa-check"></i><b>4.2.7</b> listの要素に名前をつける</a></li>
<li class="chapter" data-level="4.2.8" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#list_access_name"><i class="fa fa-check"></i><b>4.2.8</b> listの要素に名前でアクセス</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_bun"><i class="fa fa-check"></i><b>4.3</b> for文(繰り返し処理)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for文イントロダクション"><i class="fa fa-check"></i><b>4.3.1</b> for文イントロダクション</a></li>
<li class="chapter" data-level="4.3.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for文の使い方"><i class="fa fa-check"></i><b>4.3.2</b> for文の使い方</a></li>
<li class="chapter" data-level="4.3.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#適当な変数名を考える"><i class="fa fa-check"></i><b>4.3.3</b> 適当な変数名を考える</a></li>
<li class="chapter" data-level="4.3.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#ex_listfor"><i class="fa fa-check"></i><b>4.3.4</b> listとfor文を用いた例</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#fukusu_jisso"><i class="fa fa-check"></i><b>4.4</b> 複数ファイルの一括読み込み<br>(実装)</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_image_2"><i class="fa fa-check"></i><b>4.4.1</b> for文の5ステップのイメージ(再掲)</a></li>
<li class="chapter" data-level="4.4.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_step1"><i class="fa fa-check"></i><b>4.4.2</b> for文：ステップ１</a></li>
<li class="chapter" data-level="4.4.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_step2"><i class="fa fa-check"></i><b>4.4.3</b> for文：ステップ２</a></li>
<li class="chapter" data-level="4.4.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_step345"><i class="fa fa-check"></i><b>4.4.4</b> for文：ステップ３,４,５</a></li>
<li class="chapter" data-level="4.4.5" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#for_matome"><i class="fa fa-check"></i><b>4.4.5</b> 複数ファイル読み込みまとめ</a></li>
<li class="chapter" data-level="4.4.6" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#複数ファイルの一括読み込み結果"><i class="fa fa-check"></i><b>4.4.6</b> 複数ファイルの一括読み込み結果</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#複数データの結合方法"><i class="fa fa-check"></i><b>4.5</b> 複数データの結合方法</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#タテ結合とヨコ結合"><i class="fa fa-check"></i><b>4.5.1</b> タテ結合とヨコ結合</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#複数データのタテ結合"><i class="fa fa-check"></i><b>4.6</b> 複数データのタテ結合</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#タテ結合結果"><i class="fa fa-check"></i><b>4.6.1</b> タテ結合結果</a></li>
<li class="chapter" data-level="4.6.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#タテ結合の手順"><i class="fa fa-check"></i><b>4.6.2</b> タテ結合の手順</a></li>
<li class="chapter" data-level="4.6.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#make_yearcol"><i class="fa fa-check"></i><b>4.6.3</b> 1. yearカラムの作成</a></li>
<li class="chapter" data-level="4.6.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#bind_tateketu"><i class="fa fa-check"></i><b>4.6.4</b> 2. bind_rowsでタテ結合</a></li>
<li class="chapter" data-level="4.6.5" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#tateketugou_hosoku"><i class="fa fa-check"></i><b>4.6.5</b> 補足</a></li>
<li class="chapter" data-level="4.6.6" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#tateketugou_sanko"><i class="fa fa-check"></i><b>4.6.6</b> 参考</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#複数データのヨコ結合"><i class="fa fa-check"></i><b>4.7</b> 複数データのヨコ結合</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#ヨコ結合結果"><i class="fa fa-check"></i><b>4.7.1</b> ヨコ結合結果</a></li>
<li class="chapter" data-level="4.7.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#ヨコ結合の手順"><i class="fa fa-check"></i><b>4.7.2</b> ヨコ結合の手順</a></li>
<li class="chapter" data-level="4.7.3" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#rename_with"><i class="fa fa-check"></i><b>4.7.3</b> 1. rename_withでカラム名の変更</a></li>
<li class="chapter" data-level="4.7.4" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#leftjoin_yokoketugo"><i class="fa fa-check"></i><b>4.7.4</b> 2. left_joinでヨコ結合</a></li>
<li class="chapter" data-level="4.7.5" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#yokoketugou_hosoku"><i class="fa fa-check"></i><b>4.7.5</b> 補足</a></li>
<li class="chapter" data-level="4.7.6" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#yokoketugou_sanko"><i class="fa fa-check"></i><b>4.7.6</b> 参考</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#rest_intermediate"><i class="fa fa-check"></i><b>4.8</b> 箸休めスライド</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#map関数"><i class="fa fa-check"></i><b>4.8.1</b> map関数</a></li>
<li class="chapter" data-level="4.8.2" data-path="book_03_intermediate_1st_half.html"><a href="book_03_intermediate_1st_half.html#select_helper"><i class="fa fa-check"></i><b>4.8.2</b> selectのhelper関数</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html"><i class="fa fa-check"></i><b>5</b> 中級編後半</a>
<ul>
<li class="chapter" data-level="" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#作業の確認-1"><i class="fa fa-check"></i>作業の確認</a>
<ul>
<li class="chapter" data-level="" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#中級の作業イメージ-1"><i class="fa fa-check"></i>中級の作業イメージ</a></li>
<li class="chapter" data-level="" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#目次中級後半"><i class="fa fa-check"></i>目次（中級後半）</a></li>
</ul></li>
<li class="chapter" data-level="5.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#前半の作業のおさらい"><i class="fa fa-check"></i><b>5.1</b> 前半の作業のおさらい</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#複数データの読み込み"><i class="fa fa-check"></i><b>5.1.1</b> 複数データの読み込み</a></li>
<li class="chapter" data-level="5.1.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#タテ結合とヨコ結合-1"><i class="fa fa-check"></i><b>5.1.2</b> タテ結合とヨコ結合</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#widedata_longdata"><i class="fa fa-check"></i><b>5.2</b> タテ持ちデータ・ヨコ持ちデータ</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#what_widelong"><i class="fa fa-check"></i><b>5.2.1</b> タテ持ち・ヨコ持ちとは</a></li>
<li class="chapter" data-level="5.2.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#tokutyo_widelong"><i class="fa fa-check"></i><b>5.2.2</b> タテ持ち・ヨコ持ちの特徴</a></li>
<li class="chapter" data-level="5.2.3" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#タテヨコ変換"><i class="fa fa-check"></i><b>5.2.3</b> タテ⇔ヨコ変換</a></li>
<li class="chapter" data-level="5.2.4" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#タテヨコ変換イメージ画像"><i class="fa fa-check"></i><b>5.2.4</b> タテヨコ変換イメージ画像</a></li>
<li class="chapter" data-level="5.2.5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#image_wide_long_2"><i class="fa fa-check"></i><b>5.2.5</b> タテヨコ変換イメージgif</a></li>
<li class="chapter" data-level="5.2.6" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#image_jisso"><i class="fa fa-check"></i><b>5.2.6</b> タテヨコ変換実装</a></li>
<li class="chapter" data-level="5.2.7" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#wide_to_long"><i class="fa fa-check"></i><b>5.2.7</b> <strong>pivot_longer</strong>でヨコ → タテ変換</a></li>
<li class="chapter" data-level="5.2.8" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#long_to_wide"><i class="fa fa-check"></i><b>5.2.8</b> <strong>pivot_wider</strong>でタテ → ヨコ変換</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#研磨データの比較検証"><i class="fa fa-check"></i><b>5.3</b> 研磨データの比較検証</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#比較検証をする理由"><i class="fa fa-check"></i><b>5.3.1</b> 比較検証をする理由</a></li>
<li class="chapter" data-level="5.3.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#比較検証をする方法"><i class="fa fa-check"></i><b>5.3.2</b> 比較検証をする方法</a></li>
<li class="chapter" data-level="5.3.3" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#検証データの作成long_data"><i class="fa fa-check"></i><b>5.3.3</b> 検証データの作成：long_data</a></li>
<li class="chapter" data-level="5.3.4" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#wide_data2"><i class="fa fa-check"></i><b>5.3.4</b> 検証データの作成：wide_data</a></li>
<li class="chapter" data-level="5.3.5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#diffdfで一致確認"><i class="fa fa-check"></i><b>5.3.5</b> diffdfで一致確認</a></li>
<li class="chapter" data-level="5.3.6" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#不一致の原因"><i class="fa fa-check"></i><b>5.3.6</b> 不一致の原因</a></li>
<li class="chapter" data-level="5.3.7" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#不一致の理由"><i class="fa fa-check"></i><b>5.3.7</b> 不一致の理由</a></li>
<li class="chapter" data-level="5.3.8" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#条件を揃える準備"><i class="fa fa-check"></i><b>5.3.8</b> 条件を揃える準備</a></li>
<li class="chapter" data-level="5.3.9" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#再度検証"><i class="fa fa-check"></i><b>5.3.9</b> 再度検証</a></li>
<li class="chapter" data-level="5.3.10" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#hikaku_sanko"><i class="fa fa-check"></i><b>5.3.10</b> 参考：グループ解除</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#前年度比の算出"><i class="fa fa-check"></i><b>5.4</b> 前年度比の算出</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#hi_result"><i class="fa fa-check"></i><b>5.4.1</b> 結果の確認</a></li>
<li class="chapter" data-level="5.4.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#前年度比算出の手順"><i class="fa fa-check"></i><b>5.4.2</b> 前年度比算出の手順</a></li>
<li class="chapter" data-level="5.4.3" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#tejun_sort"><i class="fa fa-check"></i><b>5.4.3</b> 手順１：データのソート</a></li>
<li class="chapter" data-level="5.4.4" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#tejun_zennenjuu"><i class="fa fa-check"></i><b>5.4.4</b> 手順２：前年従業員数の作成</a></li>
<li class="chapter" data-level="5.4.5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#tejun_zennenhi"><i class="fa fa-check"></i><b>5.4.5</b> 手順３：前年度比算出</a></li>
<li class="chapter" data-level="5.4.6" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#tejun_mibae"><i class="fa fa-check"></i><b>5.4.6</b> 手順４：見栄えを整える</a></li>
<li class="chapter" data-level="5.4.7" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#hi_matome"><i class="fa fa-check"></i><b>5.4.7</b> 前年度比算出まとめ</a></li>
<li class="chapter" data-level="5.4.8" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#zennenhi_sanko"><i class="fa fa-check"></i><b>5.4.8</b> 参考：横持ちで表示</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#データの可視化"><i class="fa fa-check"></i><b>5.5</b> データの可視化</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#なぜデータを可視化するのか"><i class="fa fa-check"></i><b>5.5.1</b> なぜデータを可視化するのか</a></li>
<li class="chapter" data-level="5.5.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#どうやって可視化するのか"><i class="fa fa-check"></i><b>5.5.2</b> どうやって可視化するのか</a></li>
<li class="chapter" data-level="5.5.3" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#layer_str"><i class="fa fa-check"></i><b>5.5.3</b> ggplotのレイヤー構造</a></li>
<li class="chapter" data-level="5.5.4" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#dodai"><i class="fa fa-check"></i><b>5.5.4</b> <strong>ggplot</strong>：土台作成</a></li>
<li class="chapter" data-level="5.5.5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#aesデータの情報を指定"><i class="fa fa-check"></i><b>5.5.5</b> <strong>aes</strong>：データの情報を指定</a></li>
<li class="chapter" data-level="5.5.6" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#geom"><i class="fa fa-check"></i><b>5.5.6</b> <strong>geom_＊</strong>：描画</a></li>
<li class="chapter" data-level="5.5.7" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#labs軸名やタイトル"><i class="fa fa-check"></i><b>5.5.7</b> <strong>labs</strong>：軸名やタイトル</a></li>
<li class="chapter" data-level="5.5.8" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#before_facet"><i class="fa fa-check"></i><b>5.5.8</b> <strong>facet</strong>の前に</a></li>
<li class="chapter" data-level="5.5.9" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#facet"><i class="fa fa-check"></i><b>5.5.9</b> <strong>facet</strong>：グループ比較</a></li>
<li class="chapter" data-level="5.5.10" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#可視化のススメ"><i class="fa fa-check"></i><b>5.5.10</b> 可視化のススメ</a></li>
<li class="chapter" data-level="5.5.11" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#kasika_sanko1"><i class="fa fa-check"></i><b>5.5.11</b> 参考１：データの整形</a></li>
<li class="chapter" data-level="5.5.12" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#kasika_sanko2"><i class="fa fa-check"></i><b>5.5.12</b> 参考２：データの比較</a></li>
<li class="chapter" data-level="5.5.13" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#kasika_sanko3"><i class="fa fa-check"></i><b>5.5.13</b> 参考３：適切な可視化</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#ランキングの作成"><i class="fa fa-check"></i><b>5.6</b> ランキングの作成</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#rank_result"><i class="fa fa-check"></i><b>5.6.1</b> 結果の確認</a></li>
<li class="chapter" data-level="5.6.2" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#rank_tejun0"><i class="fa fa-check"></i><b>5.6.2</b> 内容と手順</a></li>
<li class="chapter" data-level="5.6.3" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#ランキング関数"><i class="fa fa-check"></i><b>5.6.3</b> ランキング関数</a></li>
<li class="chapter" data-level="5.6.4" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#rank_tejun1"><i class="fa fa-check"></i><b>5.6.4</b> 手順１：2017年の従業員数が100人以上</a></li>
<li class="chapter" data-level="5.6.5" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#rank_tejun2"><i class="fa fa-check"></i><b>5.6.5</b> 手順２：業種大分類をjoin</a></li>
<li class="chapter" data-level="5.6.6" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#rank_tejun3"><i class="fa fa-check"></i><b>5.6.6</b> 手順３：業種別ランキング作成</a></li>
<li class="chapter" data-level="5.6.7" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#kekka_ranking"><i class="fa fa-check"></i><b>5.6.7</b> ランキングデータ完成</a></li>
<li class="chapter" data-level="5.6.8" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#rank_tejun4"><i class="fa fa-check"></i><b>5.6.8</b> ランキング作成まとめ</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="book_04_intermediate_2nd_half.html"><a href="book_04_intermediate_2nd_half.html#おわり-2"><i class="fa fa-check"></i>おわり</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="environment.html"><a href="environment.html"><i class="fa fa-check"></i>動作環境</a></li>
<li class="divider"></li>
<li><strong><a href="https://www.ds.shiga-u.ac.jp/DEML/">滋賀大学DEMLセンター</a></strong></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">データエンジニアリング人材養成演習補助教材</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sec_01" class="section level1" number="2">
<h1><span class="header-section-number">2</span> 初級編前半</h1>
<div id="はじめに-1" class="section level2 unnumbered">
<h2>はじめに</h2>
<div id="研磨ストーリー" class="section level3 unnumbered">
<h3>研磨ストーリー</h3>
<p>顧客から受領した企業リストに対して企業概要データを付与し、データの集計表や指標を算出して顧客へ渡します。</p>
<p><img src="../pictures/begginer/story.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="作業イメージ" class="section level3 unnumbered">
<h3>作業イメージ</h3>
<p>添えてある数字が各ステップに対応しています。</p>
<p><img src="../pictures/begginer/story-image-beg.png" width="65%" style="display: block; margin: auto;" /></p>
</div>
<div id="ディレクトリ構成" class="section level3 unnumbered">
<h3>ディレクトリ構成</h3>
<div class="columns">
<div class="column" style="width:48%;">
<p><img src="../pictures/begginer/dir-structure.png" width="100%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<p><br></p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zcydynfgrg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 21px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zcydynfgrg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zcydynfgrg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zcydynfgrg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zcydynfgrg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcydynfgrg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zcydynfgrg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zcydynfgrg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zcydynfgrg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zcydynfgrg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zcydynfgrg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zcydynfgrg .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zcydynfgrg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zcydynfgrg .gt_from_md > :first-child {
  margin-top: 0;
}

#zcydynfgrg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zcydynfgrg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zcydynfgrg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zcydynfgrg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcydynfgrg .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zcydynfgrg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zcydynfgrg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zcydynfgrg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zcydynfgrg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zcydynfgrg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zcydynfgrg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zcydynfgrg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zcydynfgrg .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zcydynfgrg .gt_left {
  text-align: left;
}

#zcydynfgrg .gt_center {
  text-align: center;
}

#zcydynfgrg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zcydynfgrg .gt_font_normal {
  font-weight: normal;
}

#zcydynfgrg .gt_font_bold {
  font-weight: bold;
}

#zcydynfgrg .gt_font_italic {
  font-style: italic;
}

#zcydynfgrg .gt_super {
  font-size: 65%;
}

#zcydynfgrg .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="zcydynfgrg" style="overflow-x:auto;overflow-y:auto;width:500px;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">フォルダ</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">中身</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">.</td>
      <td class="gt_row gt_left">ルートディレクトリ(data_engineering)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">code</td>
      <td class="gt_row gt_left">本資料で使用する.Rファイル</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">input</td>
      <td class="gt_row gt_left">生データやマスタデータ</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">output</td>
      <td class="gt_row gt_left">中間ファイルや研磨後データ</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
</div>
</div>
<div id="ライブラリを読み込む" class="section level3 unnumbered">
<h3>ライブラリを読み込む</h3>
<ul>
<li>tidyverseとhereを読み込みます</li>
</ul>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="book_01_beginner_1st_half.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb52-2"><a href="book_01_beginner_1st_half.html#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
</div>
</div>
<div id="ステップ１csvファイルの読み込み" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> ステップ１：CSVファイルの読み込み</h2>
<ul>
<li>read_csv</li>
<li>glimpse</li>
</ul>
<div id="sagyou_step1" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> 作業内容</h3>
<ul>
<li>以下の3種類のcsvファイルを読み込みましょう
<ul>
<li>企業リスト1.csv</li>
<li>企業リスト2.csv</li>
<li>企業概要データ_2019年1月時点.csv</li>
</ul></li>
</ul>
</div>
<div id="read_csv" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> <strong>read_csv</strong>でcsvデータを読み込む</h3>
<ul>
<li>まずは<strong>企業リスト1.csv</strong>のみを読み込みます</li>
<li>read_csvの引数の説明は2頁先ににまとめてあります</li>
<li>カラム型を指定しないときは、カラム型をある程度自動識別し、読み込んだカラム型のメッセージが出ます</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="book_01_beginner_1st_half.html#cb53-1" aria-hidden="true" tabindex="-1"></a>df_1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">here</span>(<span class="st">&quot;input/企業リスト1.csv&quot;</span>),</span>
<span id="cb53-2"><a href="book_01_beginner_1st_half.html#cb53-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>))</span>
<span id="cb53-3"><a href="book_01_beginner_1st_half.html#cb53-3" aria-hidden="true" tabindex="-1"></a>df_1</span></code></pre></div>
<div class="columns">
<div class="column" style="width:58%;">
<pre><code>
-- Column specification ------------------------------------------------------
cols(
  企業コード = col_character()
)</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:35%;">
<pre><code># A tibble: 500 x 1
   企業コード
   &lt;chr&gt;     
 1 J31299770 
 2 E32002046 
 3 D42585413 
 4 J39971897 
 5 J93122775 
 6 J34719839 
 7 L12571447 
 8 D42395106 
 9 J34594067 
10 E32304350 
# ... with 490 more rows</code></pre>
</div>
</div>
<hr />
<ul>
<li>同様にして<strong>企業リスト2.csv</strong>も読み込みます</li>
<li>ここではカラム型の指定も行っています</li>
</ul>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="book_01_beginner_1st_half.html#cb56-1" aria-hidden="true" tabindex="-1"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">here</span>(<span class="st">&quot;input/企業リスト2.csv&quot;</span>),</span>
<span id="cb56-2"><a href="book_01_beginner_1st_half.html#cb56-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>),</span>
<span id="cb56-3"><a href="book_01_beginner_1st_half.html#cb56-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col_types =</span> <span class="st">&quot;c&quot;</span>)</span>
<span id="cb56-4"><a href="book_01_beginner_1st_half.html#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># これでも可 col_types = cols(企業コード = col_character())</span></span>
<span id="cb56-5"><a href="book_01_beginner_1st_half.html#cb56-5" aria-hidden="true" tabindex="-1"></a>df_2</span></code></pre></div>
<pre><code># A tibble: 500 x 1
   企業コード
   &lt;chr&gt;     
 1 J38109080 
 2 D42631600 
 3 H42150036 
 4 E32060947 
 5 B02122602 
 6 J34020161 
 7 J34747662 
 8 J34830369 
 9 E32572710 
10 J34109464 
# ... with 490 more rows</code></pre>
</div>
<div id="read_csv_args" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> read_csvの主要な引数</h3>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ulzxjoroxk .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 24px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ulzxjoroxk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ulzxjoroxk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ulzxjoroxk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ulzxjoroxk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ulzxjoroxk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ulzxjoroxk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ulzxjoroxk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ulzxjoroxk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ulzxjoroxk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ulzxjoroxk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ulzxjoroxk .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ulzxjoroxk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ulzxjoroxk .gt_from_md > :first-child {
  margin-top: 0;
}

#ulzxjoroxk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ulzxjoroxk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ulzxjoroxk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ulzxjoroxk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ulzxjoroxk .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ulzxjoroxk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ulzxjoroxk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ulzxjoroxk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ulzxjoroxk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ulzxjoroxk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ulzxjoroxk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ulzxjoroxk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ulzxjoroxk .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ulzxjoroxk .gt_left {
  text-align: left;
}

#ulzxjoroxk .gt_center {
  text-align: center;
}

#ulzxjoroxk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ulzxjoroxk .gt_font_normal {
  font-weight: normal;
}

#ulzxjoroxk .gt_font_bold {
  font-weight: bold;
}

#ulzxjoroxk .gt_font_italic {
  font-style: italic;
}

#ulzxjoroxk .gt_super {
  font-size: 65%;
}

#ulzxjoroxk .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ulzxjoroxk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">引数</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">default</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">意味</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">file</td>
      <td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">読み込むファイルのpathを指定</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">col_names</td>
      <td class="gt_row gt_left">TRUE</td>
      <td class="gt_row gt_left">1行目をカラム名として読み込む</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">col_types</td>
      <td class="gt_row gt_left">NULL</td>
      <td class="gt_row gt_left">読み込むカラム型を指定（指定方法は後述）</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">locale</td>
      <td class="gt_row gt_left">UTF-8, UTC</td>
      <td class="gt_row gt_left">locale関数でencodingやタイムゾーン等を指定する</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">skip</td>
      <td class="gt_row gt_left">0</td>
      <td class="gt_row gt_left">先頭n行を飛ばして読み込む</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">n_max</td>
      <td class="gt_row gt_left">Inf</td>
      <td class="gt_row gt_left">読み込む最大行数</td>
    </tr>
  </tbody>
  
  
</table></div>
<ul>
<li>locale関数について
<ul>
<li>例) locale(encoding = “shift-jis”, tz = “Japan”)</li>
<li>他にもdate_formatなどで日付表示方法などが指定できます</li>
<li>timestampデータなどがあるときに有効です</li>
</ul></li>
</ul>
</div>
<div id="col_typesの書き方" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> col_typesの書き方</h3>
<ul>
<li><strong>文字列で指定</strong>
<ul>
<li><strong>col_types = “cci”</strong>と書くことで、1列目と2列目は文字型、3列目は整数型で読み込みというように指定ができます</li>
<li>簡易的なコードを書いている場合はこちらでよいでしょう</li>
</ul></li>
<li><strong>cols()で指定</strong>（推奨）
<ul>
<li><strong>col_types = cols(カラム名 = col_character())</strong> と記述します</li>
<li>データ読み込み時点からカラム型を意識しましょう</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<table>
<thead>
<tr class="header">
<th align="center">カラム型</th>
<th align="left">関数</th>
<th align="center">略記</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">論理型</td>
<td align="left">col_logical()</td>
<td align="center">l</td>
</tr>
<tr class="even">
<td align="center">整数型</td>
<td align="left">col_integer()</td>
<td align="center">i</td>
</tr>
<tr class="odd">
<td align="center">少数型</td>
<td align="left">col_double()</td>
<td align="center">d</td>
</tr>
<tr class="even">
<td align="center">文字型</td>
<td align="left">col_character()</td>
<td align="center">c</td>
</tr>
<tr class="odd">
<td align="center">因子型</td>
<td align="left">col_factor()</td>
<td align="center">f</td>
</tr>
<tr class="even">
<td align="center">skip</td>
<td align="left">col_skip()</td>
<td align="center">-</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="book_01_beginner_1st_half.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 例）このコードは動きません</span></span>
<span id="cb58-2"><a href="book_01_beginner_1st_half.html#cb58-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb58-3"><a href="book_01_beginner_1st_half.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">&quot;input/data.csv&quot;</span>),</span>
<span id="cb58-4"><a href="book_01_beginner_1st_half.html#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb58-5"><a href="book_01_beginner_1st_half.html#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb58-6"><a href="book_01_beginner_1st_half.html#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_2 =</span> <span class="fu">col_integer</span>()</span>
<span id="cb58-7"><a href="book_01_beginner_1st_half.html#cb58-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div>
</div>
</div>
</div>
<div id="read_cosmos2" class="section level3" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> COSMOS2（c2）データの読み込み</h3>
<ul>
<li>ステップ4以降で扱うCOSMOS2のデータ(企業概要データ_2019年1月時点.csv)を読み込みます</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="book_01_beginner_1st_half.html#cb59-1" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb59-2"><a href="book_01_beginner_1st_half.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">&quot;input/企業概要データ_2019年1月時点.csv&quot;</span>),</span>
<span id="cb59-3"><a href="book_01_beginner_1st_half.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>))</span></code></pre></div>
<pre><code>
-- Column specification ------------------------------------------------------
cols(
  企業コード = col_character(),
  本社所在地市区郡 = col_character(),
  業種大分類 = col_character(),
  `資本金(千円)` = col_double(),
  従業員数 = col_double(),
  最新期業績決算期年 = col_double(),
  最新期業績決算期月 = col_double(),
  `最新期業績売上高(百万円)` = col_double(),
  `最新期業績税引後利益(千円)` = col_double(),
  創業年 = col_double(),
  設立年 = col_double()
)</code></pre>
<hr />
</div>
<div id="glimpse" class="section level3" number="2.1.6">
<h3><span class="header-section-number">2.1.6</span> <strong>glimpse</strong>でデータを見る</h3>
<ul>
<li>カラム数が多いときは、コンソールでデータを表示しても、全てのカラムを確認することができません</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="book_01_beginner_1st_half.html#cb61-1" aria-hidden="true" tabindex="-1"></a>c2_201901</span></code></pre></div>
<pre><code># A tibble: 2,111 x 11
   企業コード 本社所在地市区郡 業種大分類 `資本金(千円)` 従業員数
   &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;
 1 G92155635  01103_北海道札幌市東区~ G:卸売・小売業，~         862800      114
 2 G92155065  13113_東京都渋谷区~ H:金融・保険業~        3997800     2270
 3 G92143569  01104_北海道札幌市白石区~ G:卸売・小売業，~         830800      627
 4 G92141220  01101_北海道札幌市中央区~ E:建設業           981800      194
 5 G92190707  01109_北海道札幌市手稲区~ G:卸売・小売業，~         419100      267
 6 G92515950  01105_北海道札幌市豊平区~ F:製造業           399000      435
 7 G92508571  27128_大阪府大阪市中央区~ F:製造業         53879600      745
 8 G92559088  01101_北海道札幌市中央区~ K:電気・ガス・水~       27874600     7207
 9 G92552130  01104_北海道札幌市白石区~ E:建設業          3275400     1409
10 G92557890  01110_北海道札幌市清田区~ F:製造業          3815700      295
# ... with 2,101 more rows, and 6 more variables: 最新期業績決算期年 &lt;dbl&gt;,
#   最新期業績決算期月 &lt;dbl&gt;, `最新期業績売上高(百万円)` &lt;dbl&gt;,
#   `最新期業績税引後利益(千円)` &lt;dbl&gt;, 創業年 &lt;dbl&gt;, 設立年 &lt;dbl&gt;</code></pre>
<hr />
<p><strong>glimpse</strong></p>
<ul>
<li>大規模データの確認には<strong>glimpse</strong>を使いましょう</li>
<li>カラムが縦に並ぶのでデータが確認しやすいです</li>
</ul>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="book_01_beginner_1st_half.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(c2_201901)</span></code></pre></div>
<pre><code>Rows: 2,111
Columns: 11
$ 企業コード                   &lt;chr&gt; &quot;G92155635&quot;, &quot;G92155065&quot;, &quot;G92143569&quot;, &quot;G...
$ 本社所在地市区郡             &lt;chr&gt; &quot;01103_北海道札幌市東区&quot;, &quot;13113_東京都渋谷区&quot;, &quot;01104_北海道...
$ 業種大分類                   &lt;chr&gt; &quot;G:卸売・小売業，飲食&quot;, &quot;H:金融・保険業&quot;, &quot;G:卸売・小売業，飲食&quot;,...
$ `資本金(千円)`               &lt;dbl&gt; 862800, 3997800, 830800, 981800, 419100, ...
$ 従業員数                     &lt;dbl&gt; 114, 2270, 627, 194, 267, 435, 745, 7207...
$ 最新期業績決算期年           &lt;dbl&gt; 2018, 2018, 2018, 2018, 2018, 2018, 2018, 201...
$ 最新期業績決算期月           &lt;dbl&gt; 3, 3, 3, 3, 2, 3, 3, 3, 3, 12, 3, 3, 3, 12, 3...
$ `最新期業績売上高(百万円)`   &lt;dbl&gt; 19509, 127123, 35949, 100, 42211, 18093, 82001,...
$ `最新期業績税引後利益(千円)` &lt;dbl&gt; 539348, 4389077, -18044, 631424, 252220, 88283, ...
$ 創業年                       &lt;dbl&gt; 1946, 0, 1932, 1917, 0, 1943, 0, 0, 0, ...
$ 設立年                       &lt;dbl&gt; 1951, 1948, 1951, 1951, 1971, 1946, 192...</code></pre>
</div>
<div id="読み込み時に注意すべき例０落ち" class="section level3" number="2.1.7">
<h3><span class="header-section-number">2.1.7</span> 読み込み時に注意すべき例：０落ち</h3>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>col_types = “ic”</strong></p>
<pre><code># A tibble: 3 x 2
  都道府県CODE 都道府県名
         &lt;int&gt; &lt;chr&gt;     
1            1 北海道    
2            2 青森県    
3            3 岩手県    </code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<p><strong>col_types = “cc”</strong></p>
<pre><code># A tibble: 3 x 2
  都道府県CODE 都道府県名
  &lt;chr&gt;        &lt;chr&gt;     
1 01           北海道    
2 02           青森県    
3 03           岩手県    </code></pre>
</div>
</div>
<ul>
<li>左の例では、都道府県CODEを整数として読み込んでいるので頭の<strong>0が落ちてしまっています</strong></li>
<li>頭の0に意味があるときは、0落ちは問題になります</li>
<li>データを読み込むときは必ず生データを確認し、カラム型などを意識しましょう</li>
</ul>
</div>
<div id="生データの確認方法" class="section level3" number="2.1.8">
<h3><span class="header-section-number">2.1.8</span> 生データの確認方法</h3>
<ul>
<li>生データのファイルは、任意のテキストエディタ等で確認する他にも、次のようにして確認する方法があります</li>
<li><strong>read_lines</strong>関数を使って、read_csvと同様に書くことで、生データをテキストとして1行ずつ読み込みます</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="book_01_beginner_1st_half.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_lines</span>(<span class="at">file =</span> <span class="fu">here</span>(<span class="st">&quot;input/都道府県マスタ.csv&quot;</span>),</span>
<span id="cb67-2"><a href="book_01_beginner_1st_half.html#cb67-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>),</span>
<span id="cb67-3"><a href="book_01_beginner_1st_half.html#cb67-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">n_max =</span> <span class="dv">10</span>) <span class="co"># 先頭から10行を読み込む</span></span></code></pre></div>
<pre><code> [1] &quot;都道府県CODE,都道府県名&quot; &quot;01,北海道&quot;              
 [3] &quot;02,青森県&quot;               &quot;03,岩手県&quot;              
 [5] &quot;04,宮城県&quot;               &quot;05,秋田県&quot;              
 [7] &quot;06,山形県&quot;               &quot;07,福島県&quot;              
 [9] &quot;08,茨城県&quot;               &quot;09,栃木県&quot;              </code></pre>
<ul>
<li>都道府県CODEは文字列読み込みが良いと考えられます</li>
</ul>
</div>
<div id="step1_sanko1" class="section level3" number="2.1.9">
<h3><span class="header-section-number">2.1.9</span> 参考１：カラム型指定tips</h3>
<ul>
<li>カラム数が多いデータでcol_typesを手作業で入力するのは面倒なので、tipsを伝授します</li>
</ul>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="book_01_beginner_1st_half.html#cb69-1" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb69-2"><a href="book_01_beginner_1st_half.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">&quot;input/企業概要データ_2019年1月時点.csv&quot;</span>),</span>
<span id="cb69-3"><a href="book_01_beginner_1st_half.html#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>),</span>
<span id="cb69-4"><a href="book_01_beginner_1st_half.html#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb69-5"><a href="book_01_beginner_1st_half.html#cb69-5" aria-hidden="true" tabindex="-1"></a>    企業コード  <span class="ot">=</span> <span class="fu">col_character</span>(),</span>
<span id="cb69-6"><a href="book_01_beginner_1st_half.html#cb69-6" aria-hidden="true" tabindex="-1"></a>    本社所在地市区郡  <span class="ot">=</span> <span class="fu">col_character</span>(),</span>
<span id="cb69-7"><a href="book_01_beginner_1st_half.html#cb69-7" aria-hidden="true" tabindex="-1"></a>    業種大分類  <span class="ot">=</span> <span class="fu">col_character</span>(),</span>
<span id="cb69-8"><a href="book_01_beginner_1st_half.html#cb69-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">資本金(千円)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-9"><a href="book_01_beginner_1st_half.html#cb69-9" aria-hidden="true" tabindex="-1"></a>    従業員数  <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-10"><a href="book_01_beginner_1st_half.html#cb69-10" aria-hidden="true" tabindex="-1"></a>    最新期業績決算期年  <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-11"><a href="book_01_beginner_1st_half.html#cb69-11" aria-hidden="true" tabindex="-1"></a>    最新期業績決算期月  <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-12"><a href="book_01_beginner_1st_half.html#cb69-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">最新期業績売上高(百万円)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-13"><a href="book_01_beginner_1st_half.html#cb69-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">最新期業績税引後利益(千円)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-14"><a href="book_01_beginner_1st_half.html#cb69-14" aria-hidden="true" tabindex="-1"></a>    創業年  <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb69-15"><a href="book_01_beginner_1st_half.html#cb69-15" aria-hidden="true" tabindex="-1"></a>    設立年  <span class="ot">=</span> <span class="fu">col_double</span>()</span>
<span id="cb69-16"><a href="book_01_beginner_1st_half.html#cb69-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb69-17"><a href="book_01_beginner_1st_half.html#cb69-17" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<hr />
<ul>
<li>カラム型を指定せずに100行程データを読み込み、読み込んだデータを<strong>spec</strong>という関数にかけます</li>
<li>spec関数の出力をコピーして、必要があれば編集し、read_csvの引数に与えればおっけーです</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="book_01_beginner_1st_half.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="at">file =</span> <span class="fu">here</span>(<span class="st">&quot;input/企業概要データ_2019年1月時点.csv&quot;</span>),</span>
<span id="cb70-2"><a href="book_01_beginner_1st_half.html#cb70-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>),</span>
<span id="cb70-3"><a href="book_01_beginner_1st_half.html#cb70-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_max =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">spec</span>()</span></code></pre></div>
<pre><code>cols(
  企業コード = col_character(),
  本社所在地市区郡 = col_character(),
  業種大分類 = col_character(),
  `資本金(千円)` = col_double(),
  従業員数 = col_double(),
  最新期業績決算期年 = col_double(),
  最新期業績決算期月 = col_double(),
  `最新期業績売上高(百万円)` = col_double(),
  `最新期業績税引後利益(千円)` = col_double(),
  創業年 = col_double(),
  設立年 = col_double()
)</code></pre>
</div>
<div id="step1_sanko2" class="section level3" number="2.1.10">
<h3><span class="header-section-number">2.1.10</span> 参考２：()付きカラムの取り扱い</h3>
<div class="columns">
<div class="column" style="width:43%;">
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="book_01_beginner_1st_half.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(c2_201901)</span></code></pre></div>
<pre><code>Rows: 2,111
Columns: 11
$ 企業コード                   &lt;chr&gt; &quot;G92155635&quot;, &quot;G92155065&quot;, &quot;G92143569&quot;, &quot;G...
$ 本社所在地市区郡             &lt;chr&gt; &quot;01103_北海道札幌市東区&quot;, &quot;13113_東京都渋谷区&quot;, &quot;01104_北海道...
$ 業種大分類                   &lt;chr&gt; &quot;G:卸売・小売業，飲食&quot;, &quot;H:金融・保険業&quot;, &quot;G:卸売・小売業，飲食&quot;,...
$ `資本金(千円)`               &lt;dbl&gt; 862800, 3997800, 830800, 981800, 419100, ...
$ 従業員数                     &lt;dbl&gt; 114, 2270, 627, 194, 267, 435, 745, 7207...
$ 最新期業績決算期年           &lt;dbl&gt; 2018, 2018, 2018, 2018, 2018, 2018, 2018, 201...
$ 最新期業績決算期月           &lt;dbl&gt; 3, 3, 3, 3, 2, 3, 3, 3, 3, 12, 3, 3, 3, 12, 3...
$ `最新期業績売上高(百万円)`   &lt;dbl&gt; 19509, 127123, 35949, 100, 42211, 18093, 82001,...
$ `最新期業績税引後利益(千円)` &lt;dbl&gt; 539348, 4389077, -18044, 631424, 252220, 88283, ...
$ 創業年                       &lt;dbl&gt; 1946, 0, 1932, 1917, 0, 1943, 0, 0, 0, ...
$ 設立年                       &lt;dbl&gt; 1951, 1948, 1951, 1951, 1971, 1946, 192...</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:55%;">
<ul>
<li>()付きカラムは基本的に推奨されません</li>
<li>理由は、コードの()と混同しエラーが起こるからです</li>
<li>Rでは()付きカラムはバッククォートで囲むようにしてください</li>
<li>コンソールでの表示もバッククォートが付いているのがわかります</li>
</ul>
</div>
</div>
</div>
</div>
<div id="ステップ２データの縦結合" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> ステップ２：データの縦結合</h2>
<ul>
<li>bind_rows</li>
</ul>
<div id="sagyou_step2" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> 作業内容</h3>
<ul>
<li>ステップ1で読み込んだ以下の2つのデータを縦に結合して1つのデータにします</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>df_1</strong></p>
<pre><code># A tibble: 500 x 1
   企業コード
   &lt;chr&gt;     
 1 J31299770 
 2 E32002046 
 3 D42585413 
 4 J39971897 
 5 J93122775 
 6 J34719839 
 7 L12571447 
 8 D42395106 
 9 J34594067 
10 E32304350 
# ... with 490 more rows</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<p><strong>df_2</strong></p>
<pre><code># A tibble: 500 x 1
   企業コード
   &lt;chr&gt;     
 1 J38109080 
 2 D42631600 
 3 H42150036 
 4 E32060947 
 5 B02122602 
 6 J34020161 
 7 J34747662 
 8 J34830369 
 9 E32572710 
10 J34109464 
# ... with 490 more rows</code></pre>
</div>
</div>
</div>
<div id="bind_rowsでデータの縦行結合" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> <strong>bind_rows</strong>でデータの縦(行)結合</h3>
<ul>
<li>結合したいデータをbind_rowsの引数に与えることで、データを縦結合することができます</li>
<li>df_1とdf_2を縦結合したデータをdf_3とします</li>
</ul>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="book_01_beginner_1st_half.html#cb76-1" aria-hidden="true" tabindex="-1"></a>df_3 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_1, df_2)</span>
<span id="cb76-2"><a href="book_01_beginner_1st_half.html#cb76-2" aria-hidden="true" tabindex="-1"></a>df_3</span></code></pre></div>
<pre><code># A tibble: 1,000 x 1
   企業コード
   &lt;chr&gt;     
 1 J31299770 
 2 E32002046 
 3 D42585413 
 4 J39971897 
 5 J93122775 
 6 J34719839 
 7 L12571447 
 8 D42395106 
 9 J34594067 
10 E32304350 
# ... with 990 more rows</code></pre>
</div>
<div id="参考１３つ以上のデータの縦結合" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> 参考１：３つ以上のデータの縦結合</h3>
<ul>
<li>3つ以上のデータを縦結合したい場合も、2つの場合と同様にして引数に渡します</li>
</ul>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="book_01_beginner_1st_half.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(df_1, df_2, df_3)</span></code></pre></div>
<pre><code># A tibble: 2,000 x 1
   企業コード
   &lt;chr&gt;     
 1 J31299770 
 2 E32002046 
 3 D42585413 
 4 J39971897 
 5 J93122775 
 6 J34719839 
 7 L12571447 
 8 D42395106 
 9 J34594067 
10 E32304350 
# ... with 1,990 more rows</code></pre>
</div>
<div id="参考２カラム名不一致データの縦結合" class="section level3" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> 参考２：カラム名不一致データの縦結合</h3>
<ul>
<li>カラム名が一致するものはカラム名で紐づく</li>
<li>全てのデータとカラムが保持される</li>
<li>欠損値はNAとなる</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<p>d1</p>
<pre><code># A tibble: 1 x 2
  col_1 col_2
  &lt;dbl&gt; &lt;dbl&gt;
1     1     1</code></pre>
<p>d2</p>
<pre><code># A tibble: 1 x 2
  col_2 col_3
  &lt;dbl&gt; &lt;dbl&gt;
1     2     2</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="book_01_beginner_1st_half.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(d1, d2)</span></code></pre></div>
<pre><code># A tibble: 2 x 3
  col_1 col_2 col_3
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1     1    NA
2    NA     2     2</code></pre>
</div>
</div>
</div>
<div id="参考３データの横列結合" class="section level3" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> 参考３：データの横（列）結合</h3>
<ul>
<li>縦結合と同様に<strong>bind_cols</strong>でデータを横(列)結合できます</li>
<li>カラム名が重複すると、カラムの識別がつくようにカラム名が自動的に変更されます</li>
</ul>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="book_01_beginner_1st_half.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_cols</span>(df_1, df_2) </span></code></pre></div>
<pre><code># A tibble: 500 x 2
   企業コード...1 企業コード...2
   &lt;chr&gt;          &lt;chr&gt;         
 1 J31299770      J38109080     
 2 E32002046      D42631600     
 3 D42585413      H42150036     
 4 J39971897      E32060947     
 5 J93122775      B02122602     
 6 J34719839      J34020161     
 7 L12571447      J34747662     
 8 D42395106      J34830369     
 9 J34594067      E32572710     
10 E32304350      J34109464     
# ... with 490 more rows</code></pre>
<hr />
<ul>
<li>縦結合とは異なり、行数が揃っていないと横結合することはできません</li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="book_01_beginner_1st_half.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_cols</span>(df_1, df_3)</span></code></pre></div>
<pre><code>Error: Can&#39;t recycle `..1` (size 500) to match `..2` (size 1000).</code></pre>
<p><strong>補足</strong></p>
<ul>
<li>bind_colsはbase関数のcbindと同様の操作で、キーの指定をした横結合はしません</li>
<li>単純にデータが横にくっつきます</li>
<li>キーを指定する横結合はステップ５で説明します</li>
</ul>
</div>
</div>
<div id="ステップ３レコードの重複消去" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> ステップ３：レコードの重複消去</h2>
<ul>
<li>n_distinct</li>
<li>distinct</li>
</ul>
<div id="sagyou_step3" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> 作業内容</h3>
<ul>
<li>企業コードを縦結合したデータには、重複しているレコードがあります</li>
<li>重複レコードの数を調べて重複レコードを消去します</li>
</ul>
<p>縦結合したデータdf_3で重複している企業コード</p>
<pre><code># A tibble: 226 x 1
   企業コード
   &lt;chr&gt;     
 1 B02122602 
 2 B02122602 
 3 B42124422 
 4 B42124422 
 5 B42539783 
 6 B42539783 
 7 B42588245 
 8 B42588245 
 9 C62177407 
10 C62177407 
# ... with 216 more rows</code></pre>
</div>
<div id="n_distinct" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> <strong>n_distinct</strong>で重複があるか調べる</h3>
<ul>
<li>n_distinctは、引数にデータを与えると、与えたデータから重複レコードを除いたレコード数を返す関数です</li>
<li>たとえば左データでは、7行のうち2,4,5行目の計3行が重複しているので、n_distinctにかけると4が返ってきます</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="book_01_beginner_1st_half.html#cb89-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 7 x 1
  code 
  &lt;chr&gt;
1 a    
2 a    
3 b    
4 b    
5 a    
6 c    
7 d    </code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="book_01_beginner_1st_half.html#cb91-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">n_distinct</span>()</span></code></pre></div>
<pre><code>[1] 4</code></pre>
</div>
</div>
<hr />
<ul>
<li>元のレコード数からn_distinctの返り値（重複を除いたレコード数）を引くことで、重複していたレコード数がわかります</li>
<li>この値が0であった場合は、重複レコードは1つもないということになります</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="book_01_beginner_1st_half.html#cb93-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 7 x 1
  code 
  &lt;chr&gt;
1 a    
2 a    
3 b    
4 b    
5 a    
6 c    
7 d    </code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="book_01_beginner_1st_half.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(d) <span class="sc">-</span> <span class="fu">n_distinct</span>(d)</span></code></pre></div>
<pre><code>[1] 3</code></pre>
</div>
</div>
</div>
<div id="distinctで重複レコードの消去" class="section level3" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> <strong>distinct</strong>で重複レコードの消去</h3>
<ul>
<li>distinctの引数にデータを与えると、重複レコードが消去されたデータが返ってきます</li>
<li>新出レコードは残し、既出レコードは消去されます</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="book_01_beginner_1st_half.html#cb97-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 7 x 1
  code 
  &lt;chr&gt;
1 a    
2 a    
3 b    
4 b    
5 a    
6 c    
7 d    </code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="book_01_beginner_1st_half.html#cb99-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span></code></pre></div>
<pre><code># A tibble: 4 x 1
  code 
  &lt;chr&gt;
1 a    
2 b    
3 c    
4 d    </code></pre>
</div>
</div>
</div>
<div id="企業コードの重複確認と重複消去" class="section level3" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> 企業コードの重複確認と重複消去</h3>
<ul>
<li>企業コードの重複数を確認し、重複を消去します</li>
<li>重複を消去したデータを、df_3_distinctとします</li>
</ul>
<p>重複レコード数の確認</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="book_01_beginner_1st_half.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># もとのデータ数 - 重複消去後のデータ数 = 重複データ数</span></span>
<span id="cb101-2"><a href="book_01_beginner_1st_half.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_3) <span class="sc">-</span> <span class="fu">n_distinct</span>(df_3)</span></code></pre></div>
<pre><code>[1] 113</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="book_01_beginner_1st_half.html#cb103-1" aria-hidden="true" tabindex="-1"></a>df_3_distinct <span class="ot">&lt;-</span> df_3 <span class="sc">%&gt;%</span> <span class="fu">distinct</span>() </span>
<span id="cb103-2"><a href="book_01_beginner_1st_half.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_3_distinct)</span></code></pre></div>
<pre><code>[1] 887</code></pre>
</div>
<div id="step3_sanko1" class="section level3" number="2.3.5">
<h3><span class="header-section-number">2.3.5</span> 参考１：複数カラムデータの重複消去</h3>
<ul>
<li>たとえば左のような複数カラムデータがあるとします</li>
<li>カラムcol_1の重複しているレコードを消去するには、distinctの引数に重複消去するカラム名を与えます</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="book_01_beginner_1st_half.html#cb105-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 4 x 3
  col_1 col_2 col_3
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 a     東京 
2     2 a     滋賀 
3     2 b     大阪 
4     2 a     滋賀 </code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="book_01_beginner_1st_half.html#cb107-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(col_1)</span></code></pre></div>
<pre><code># A tibble: 2 x 1
  col_1
  &lt;dbl&gt;
1     1
2     2</code></pre>
</div>
</div>
<p>カラムcol_2, col_3が消えてしまいました。</p>
<hr />
<ul>
<li>引数<strong>.keep_all = TRUE</strong>とすることによって、重複消去したカラム以外のカラムも残すことができます。</li>
</ul>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="book_01_beginner_1st_half.html#cb109-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 4 x 3
  col_1 col_2 col_3
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 a     東京 
2     2 a     滋賀 
3     2 b     大阪 
4     2 a     滋賀 </code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="book_01_beginner_1st_half.html#cb111-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(col_1, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code># A tibble: 2 x 3
  col_1 col_2 col_3
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 a     東京 
2     2 a     滋賀 </code></pre>
<hr />
<ul>
<li>複数のカラムを引数に与えると、<strong>与えたカラムのレコードの積集合</strong>が重複していた時、レコードが消去されます</li>
</ul>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="book_01_beginner_1st_half.html#cb113-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 4 x 3
  col_1 col_2 col_3
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 a     東京 
2     2 a     滋賀 
3     2 b     大阪 
4     2 a     滋賀 </code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="book_01_beginner_1st_half.html#cb115-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(col_1, col_2, col_3)</span></code></pre></div>
<pre><code># A tibble: 3 x 3
  col_1 col_2 col_3
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 a     東京 
2     2 a     滋賀 
3     2 b     大阪 </code></pre>
</div>
</div>
<div id="ステップ４カラムの選択" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> ステップ４：カラムの選択</h2>
<ul>
<li>select</li>
</ul>
<div id="sagyou_step4" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> 作業内容</h3>
<ul>
<li>c2のデータから必要なカラムのみを抽出します</li>
</ul>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="book_01_beginner_1st_half.html#cb117-1" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 2,111
Columns: 11
$ 企業コード                   &lt;chr&gt; &quot;G92155635&quot;, &quot;G92155065&quot;, &quot;G92143569&quot;, &quot;G...
$ 本社所在地市区郡             &lt;chr&gt; &quot;01103_北海道札幌市東区&quot;, &quot;13113_東京都渋谷区&quot;, &quot;01104_北海道...
$ 業種大分類                   &lt;chr&gt; &quot;G:卸売・小売業，飲食&quot;, &quot;H:金融・保険業&quot;, &quot;G:卸売・小売業，飲食&quot;,...
$ `資本金(千円)`               &lt;dbl&gt; 862800, 3997800, 830800, 981800, 419100, ...
$ 従業員数                     &lt;dbl&gt; 114, 2270, 627, 194, 267, 435, 745, 7207...
$ 最新期業績決算期年           &lt;dbl&gt; 2018, 2018, 2018, 2018, 2018, 2018, 2018, 201...
$ 最新期業績決算期月           &lt;dbl&gt; 3, 3, 3, 3, 2, 3, 3, 3, 3, 12, 3, 3, 3, 12, 3...
$ `最新期業績売上高(百万円)`   &lt;dbl&gt; 19509, 127123, 35949, 100, 42211, 18093, 82001,...
$ `最新期業績税引後利益(千円)` &lt;dbl&gt; 539348, 4389077, -18044, 631424, 252220, 88283, ...
$ 創業年                       &lt;dbl&gt; 1946, 0, 1932, 1917, 0, 1943, 0, 0, 0, ...
$ 設立年                       &lt;dbl&gt; 1951, 1948, 1951, 1951, 1971, 1946, 192...</code></pre>
</div>
<div id="必要なカラム" class="section level3" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> 必要なカラム</h3>
<ul>
<li>必要なカラムは次の6つです</li>
</ul>
<div class="columns">
<div class="column" style="width:5%;">

</div><div class="column" style="width:40%;">
<ul>
<li>企業コード</li>
<li>本社所在地市区郡</li>
<li>業種大分類</li>
</ul>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:52%;">
<ul>
<li>従業員数</li>
<li>最新期業績売上高(百万円)</li>
<li>最新期業績税引後利益(千円)</li>
</ul>
</div>
</div>
<ul>
<li>今c2データにあるカラムは以下の11個です</li>
</ul>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="book_01_beginner_1st_half.html#cb119-1" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span></code></pre></div>
<pre><code> [1] &quot;企業コード&quot;                 &quot;本社所在地市区郡&quot;          
 [3] &quot;業種大分類&quot;                 &quot;資本金(千円)&quot;              
 [5] &quot;従業員数&quot;                   &quot;最新期業績決算期年&quot;        
 [7] &quot;最新期業績決算期月&quot;         &quot;最新期業績売上高(百万円)&quot;  
 [9] &quot;最新期業績税引後利益(千円)&quot; &quot;創業年&quot;                    
[11] &quot;設立年&quot;                    </code></pre>
</div>
<div id="selectでカラムの選択" class="section level3" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> <strong>select</strong>でカラムの選択</h3>
<ul>
<li>データとカラム名をselectの引数に渡すことで、データから選択したカラムを抽出することができます</li>
</ul>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="book_01_beginner_1st_half.html#cb121-1" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="sc">%&gt;%</span></span>
<span id="cb121-2"><a href="book_01_beginner_1st_half.html#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">&quot;企業コード&quot;</span>, <span class="st">&quot;本社所在地市区郡&quot;</span>, <span class="st">&quot;業種大分類&quot;</span>,</span>
<span id="cb121-3"><a href="book_01_beginner_1st_half.html#cb121-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;従業員数&quot;</span>, <span class="st">`</span><span class="at">最新期業績売上高(百万円)</span><span class="st">`</span>,</span>
<span id="cb121-4"><a href="book_01_beginner_1st_half.html#cb121-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">最新期業績税引後利益(千円)</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb121-5"><a href="book_01_beginner_1st_half.html#cb121-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 2,111
Columns: 6
$ 企業コード                   &lt;chr&gt; &quot;G92155635&quot;, &quot;G92155065&quot;, &quot;G92143569&quot;, &quot;G...
$ 本社所在地市区郡             &lt;chr&gt; &quot;01103_北海道札幌市東区&quot;, &quot;13113_東京都渋谷区&quot;, &quot;01104_北海道...
$ 業種大分類                   &lt;chr&gt; &quot;G:卸売・小売業，飲食&quot;, &quot;H:金融・保険業&quot;, &quot;G:卸売・小売業，飲食&quot;,...
$ 従業員数                     &lt;dbl&gt; 114, 2270, 627, 194, 267, 435, 745, 7207...
$ `最新期業績売上高(百万円)`   &lt;dbl&gt; 19509, 127123, 35949, 100, 42211, 18093, 82001,...
$ `最新期業績税引後利益(千円)` &lt;dbl&gt; 539348, 4389077, -18044, 631424, 252220, 88283, ...</code></pre>
<hr />
<ul>
<li>変数を選択したデータを<strong>c2_201901_selected</strong>とします</li>
</ul>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="book_01_beginner_1st_half.html#cb123-1" aria-hidden="true" tabindex="-1"></a>c2_201901_selected <span class="ot">&lt;-</span> c2_201901 <span class="sc">%&gt;%</span></span>
<span id="cb123-2"><a href="book_01_beginner_1st_half.html#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">&quot;企業コード&quot;</span>,</span>
<span id="cb123-3"><a href="book_01_beginner_1st_half.html#cb123-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;本社所在地市区郡&quot;</span>,</span>
<span id="cb123-4"><a href="book_01_beginner_1st_half.html#cb123-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;業種大分類&quot;</span>,</span>
<span id="cb123-5"><a href="book_01_beginner_1st_half.html#cb123-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;従業員数&quot;</span>,</span>
<span id="cb123-6"><a href="book_01_beginner_1st_half.html#cb123-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">最新期業績売上高(百万円)</span><span class="st">`</span>,</span>
<span id="cb123-7"><a href="book_01_beginner_1st_half.html#cb123-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">最新期業績税引後利益(千円)</span><span class="st">`</span>)</span>
<span id="cb123-8"><a href="book_01_beginner_1st_half.html#cb123-8" aria-hidden="true" tabindex="-1"></a>c2_201901_selected</span></code></pre></div>
<pre><code># A tibble: 2,111 x 6
   企業コード 本社所在地市区郡 業種大分類 従業員数 `最新期業績売上高(百万円)`~
   &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;         &lt;dbl&gt;            &lt;dbl&gt;
 1 G92155635  01103_北海道札幌市東区~ G:卸売・小売業，~      114            19509
 2 G92155065  13113_東京都渋谷区~ H:金融・保険業~     2270           127123
 3 G92143569  01104_北海道札幌市白石区~ G:卸売・小売業，~      627            35949
 4 G92141220  01101_北海道札幌市中央区~ E:建設業        194              100
 5 G92190707  01109_北海道札幌市手稲区~ G:卸売・小売業，~      267            42211
 6 G92515950  01105_北海道札幌市豊平区~ F:製造業        435            18093
 7 G92508571  27128_大阪府大阪市中央区~ F:製造業        745            82001
 8 G92559088  01101_北海道札幌市中央区~ K:電気・ガス・水~     7207              100
 9 G92552130  01104_北海道札幌市白石区~ E:建設業       1409            23288
10 G92557890  01110_北海道札幌市清田区~ F:製造業        295            61249
# ... with 2,101 more rows, and 1 more variable:
#   `最新期業績税引後利益(千円)` &lt;dbl&gt;</code></pre>
</div>
<div id="step4_sanko1" class="section level3" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> 参考１：不要な読み込みはしない</h3>
<ul>
<li>不要カラムが事前に分かっている場合は、(特に大規模データでは)データ読み込み時点で対処した方が効率的です</li>
</ul>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="book_01_beginner_1st_half.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 不要なカラムはcol_skip()として読み込まないようにする</span></span>
<span id="cb125-2"><a href="book_01_beginner_1st_half.html#cb125-2" aria-hidden="true" tabindex="-1"></a>c2_201901_selected <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb125-3"><a href="book_01_beginner_1st_half.html#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">&quot;input/企業概要データ_2019年1月時点.csv&quot;</span>),</span>
<span id="cb125-4"><a href="book_01_beginner_1st_half.html#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">&quot;shift-jis&quot;</span>),</span>
<span id="cb125-5"><a href="book_01_beginner_1st_half.html#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb125-6"><a href="book_01_beginner_1st_half.html#cb125-6" aria-hidden="true" tabindex="-1"></a>    企業コード  <span class="ot">=</span> <span class="fu">col_character</span>(),</span>
<span id="cb125-7"><a href="book_01_beginner_1st_half.html#cb125-7" aria-hidden="true" tabindex="-1"></a>    本社所在地市区郡  <span class="ot">=</span> <span class="fu">col_character</span>(),</span>
<span id="cb125-8"><a href="book_01_beginner_1st_half.html#cb125-8" aria-hidden="true" tabindex="-1"></a>    業種大分類  <span class="ot">=</span> <span class="fu">col_character</span>(),</span>
<span id="cb125-9"><a href="book_01_beginner_1st_half.html#cb125-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">資本金(千円)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb125-10"><a href="book_01_beginner_1st_half.html#cb125-10" aria-hidden="true" tabindex="-1"></a>    従業員数  <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb125-11"><a href="book_01_beginner_1st_half.html#cb125-11" aria-hidden="true" tabindex="-1"></a>    最新期業績決算期年  <span class="ot">=</span> <span class="fu">col_skip</span>(), <span class="co"># 不要</span></span>
<span id="cb125-12"><a href="book_01_beginner_1st_half.html#cb125-12" aria-hidden="true" tabindex="-1"></a>    最新期業績決算期月  <span class="ot">=</span> <span class="fu">col_skip</span>(), <span class="co"># 不要</span></span>
<span id="cb125-13"><a href="book_01_beginner_1st_half.html#cb125-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">最新期業績売上高(百万円)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb125-14"><a href="book_01_beginner_1st_half.html#cb125-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">最新期業績税引後利益(千円)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">col_double</span>(),</span>
<span id="cb125-15"><a href="book_01_beginner_1st_half.html#cb125-15" aria-hidden="true" tabindex="-1"></a>    創業年  <span class="ot">=</span> <span class="fu">col_skip</span>(),  <span class="co"># 不要</span></span>
<span id="cb125-16"><a href="book_01_beginner_1st_half.html#cb125-16" aria-hidden="true" tabindex="-1"></a>    設立年  <span class="ot">=</span> <span class="fu">col_skip</span>()   <span class="co"># 不要</span></span>
<span id="cb125-17"><a href="book_01_beginner_1st_half.html#cb125-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb125-18"><a href="book_01_beginner_1st_half.html#cb125-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="step4_sanko2" class="section level3" number="2.4.5">
<h3><span class="header-section-number">2.4.5</span> 参考２：ベクトルで変数の選択</h3>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="book_01_beginner_1st_half.html#cb126-1" aria-hidden="true" tabindex="-1"></a>want_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;col_1&quot;</span>, <span class="st">&quot;col_2&quot;</span>)</span>
<span id="cb126-2"><a href="book_01_beginner_1st_half.html#cb126-2" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">any_of</span>(want_var))</span>
<span id="cb126-3"><a href="book_01_beginner_1st_half.html#cb126-3" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">all_of</span>(want_var))</span></code></pre></div>
<ul>
<li>上記のようにカラムをベクトルで選択することもできますが、any_ofとall_ofを使い分ける必要があります</li>
</ul>
<div class="columns">
<div class="column" style="width:5%;">

</div><div class="column" style="width:90%;">
<ul>
<li><strong>any_of</strong>
<ul>
<li>カラム名ベクトルに<strong>含まれるカラム</strong>を選択します</li>
<li>存在しないカラムがあってもエラーになりません</li>
</ul></li>
<li><strong>all_of</strong>
<ul>
<li>カラム名ベクトルの<strong>全てのカラム</strong>を選択します</li>
<li>存在しないカラムがある場合はエラーになります</li>
</ul></li>
</ul>
</div>
</div>
<p>次頁で例を示します。</p>
<hr />
<ul>
<li><strong>any_of</strong>は存在しないカラムがあってもエラーが出ない</li>
</ul>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="book_01_beginner_1st_half.html#cb127-1" aria-hidden="true" tabindex="-1"></a>want_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;企業コード&quot;</span>, <span class="st">&quot;従業員数&quot;</span>, <span class="st">&quot;企業規模&quot;</span>)</span>
<span id="cb127-2"><a href="book_01_beginner_1st_half.html#cb127-2" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">any_of</span>(want_var)) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code># A tibble: 2 x 2
  企業コード 従業員数
  &lt;chr&gt;         &lt;dbl&gt;
1 G92155635       114
2 G92155065      2270</code></pre>
<ul>
<li><strong>all_of</strong>は存在しないカラムがあるとエラーが出る</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="book_01_beginner_1st_half.html#cb129-1" aria-hidden="true" tabindex="-1"></a>want_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;企業コード&quot;</span>, <span class="st">&quot;従業員数&quot;</span>, <span class="st">&quot;企業規模&quot;</span>)</span>
<span id="cb129-2"><a href="book_01_beginner_1st_half.html#cb129-2" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">all_of</span>(want_var)) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>Error: Can&#39;t subset columns that don&#39;t exist.
x Column `企業規模` doesn&#39;t exist.</code></pre>
</div>
<div id="step4_sanko3" class="section level3" number="2.4.6">
<h3><span class="header-section-number">2.4.6</span> 参考３：変数消去</h3>
<ul>
<li>選択した変数を<strong>消去</strong>したい場合は、変数名にマイナスをつけて <strong>ー変数名</strong>と書きます</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="book_01_beginner_1st_half.html#cb131-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 3 x 3
      x     y     z
  &lt;int&gt; &lt;int&gt; &lt;int&gt;
1     1     4     7
2     2     5     8
3     3     6     9</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="book_01_beginner_1st_half.html#cb133-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="st">&quot;y&quot;</span>, <span class="sc">-</span><span class="st">&quot;z&quot;</span>) </span></code></pre></div>
<pre><code># A tibble: 3 x 1
      x
  &lt;int&gt;
1     1
2     2
3     3</code></pre>
</div>
</div>
<hr />
<ul>
<li>ベクトルで変数消去することも可能です</li>
<li>マイナスはall_ofかany_ofの前につけます</li>
</ul>
<div class="columns">
<div class="column" style="width:38%;">
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="book_01_beginner_1st_half.html#cb135-1" aria-hidden="true" tabindex="-1"></a>d</span></code></pre></div>
<pre><code># A tibble: 3 x 3
      x     y     z
  &lt;int&gt; &lt;int&gt; &lt;int&gt;
1     1     4     7
2     2     5     8
3     3     6     9</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:60%;">
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="book_01_beginner_1st_half.html#cb137-1" aria-hidden="true" tabindex="-1"></a>del_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>)</span>
<span id="cb137-2"><a href="book_01_beginner_1st_half.html#cb137-2" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">all_of</span>(del_var))</span></code></pre></div>
<pre><code># A tibble: 3 x 1
      x
  &lt;int&gt;
1     1
2     2
3     3</code></pre>
</div>
</div>
</div>
<div id="step4_sanko4" class="section level3" number="2.4.7">
<h3><span class="header-section-number">2.4.7</span> 参考４：クォート</h3>
<ul>
<li>selectにおいて、カラム名はクォーテーションで囲んでも、囲まなくてもOKです</li>
<li>ただしカラム名に括弧がある場合などは例外で、<strong>バッククォート</strong>「<strong>`</strong>」で囲む必要があります
<ul>
<li>カラム名の括弧がコードの括弧と混同するのを防ぐためです</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="book_01_beginner_1st_half.html#cb139-1" aria-hidden="true" tabindex="-1"></a>c2_201901 <span class="sc">%&gt;%</span> </span>
<span id="cb139-2"><a href="book_01_beginner_1st_half.html#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(企業コード, <span class="st">&quot;従業員数&quot;</span>, <span class="st">`</span><span class="at">最新期業績売上高(百万円)</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb139-3"><a href="book_01_beginner_1st_half.html#cb139-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code># A tibble: 3 x 3
  企業コード 従業員数 `最新期業績売上高(百万円)`
  &lt;chr&gt;         &lt;dbl&gt;                      &lt;dbl&gt;
1 G92155635       114                      19509
2 G92155065      2270                     127123
3 G92143569       627                      35949</code></pre>
</div>
</div>
<div id="ステップ５データの横結合" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> ステップ５：データの横結合</h2>
<ul>
<li>left_join</li>
</ul>
<div id="sagyou_step5" class="section level3" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> 作業内容</h3>
<ul>
<li>ステップ3と4で作成した以下の2つのデータを、企業コードをキーにして結合(joinやmergeとも言う)します</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="book_01_beginner_1st_half.html#cb141-1" aria-hidden="true" tabindex="-1"></a>df_3_distinct</span></code></pre></div>
<pre><code># A tibble: 887 x 1
   企業コード
   &lt;chr&gt;     
 1 J31299770 
 2 E32002046 
 3 D42585413 
 4 J39971897 
 5 J93122775 
 6 J34719839 
 7 L12571447 
 8 D42395106 
 9 J34594067 
10 E32304350 
# ... with 877 more rows</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="book_01_beginner_1st_half.html#cb143-1" aria-hidden="true" tabindex="-1"></a>c2_201901_selected</span></code></pre></div>
<pre><code># A tibble: 2,111 x 7
   企業コード 本社所在地市区郡 業種大分類 `資本金(千円)` 従業員数
   &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;
 1 G92155635  01103_北海道札幌市東区~ G:卸売・小売業，~         862800      114
 2 G92155065  13113_東京都渋谷区~ H:金融・保険業~        3997800     2270
 3 G92143569  01104_北海道札幌市白石区~ G:卸売・小売業，~         830800      627
 4 G92141220  01101_北海道札幌市中央区~ E:建設業           981800      194
 5 G92190707  01109_北海道札幌市手稲区~ G:卸売・小売業，~         419100      267
 6 G92515950  01105_北海道札幌市豊平区~ F:製造業           399000      435
 7 G92508571  27128_大阪府大阪市中央区~ F:製造業         53879600      745
 8 G92559088  01101_北海道札幌市中央区~ K:電気・ガス・水~       27874600     7207
 9 G92552130  01104_北海道札幌市白石区~ E:建設業          3275400     1409
10 G92557890  01110_北海道札幌市清田区~ F:製造業          3815700      295
# ... with 2,101 more rows, and 2 more variables:
#   `最新期業績売上高(百万円)` &lt;dbl&gt;, `最新期業績税引後利益(千円)` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="いろいろな結合方法" class="section level3" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> いろいろな結合方法</h3>
<div class="columns">
<div class="column" style="width:24%;">
<p><strong>left_join</strong>
<img src="../pictures/begginer/left-join.gif" width="95%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:24%;">
<p><strong>left_join</strong>
<img src="../pictures/begginer/left-join-extra.gif" width="95%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:24%;">
<p><strong>right_join</strong>
<img src="../pictures/begginer/right-join.gif" width="95%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div class="columns">
<div class="column" style="width:24%;">
<p><strong>full_join</strong>
<img src="../pictures/begginer/full-join.gif" width="95%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:24%;">
<p><strong>inner_join</strong>
<img src="../pictures/begginer/inner-join.gif" width="95%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:24%;">
<p><strong>anti_join</strong>
<img src="../pictures/begginer/anti-join.gif" width="95%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div id="left_join_image" class="section level3" number="2.5.3">
<h3><span class="header-section-number">2.5.3</span> left_joinのイメージ</h3>
<p>色付きカラムが企業コードだと思ってください。</p>
<div class="columns">
<div class="column" style="width:48%;">
<p><img src="../pictures/begginer/left-join.gif" width="100%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<ul>
<li>left_joinでは第一引数の行を全て保持します</li>
<li>第二引数の行は、キーが第一引数と一致した行のみ残します</li>
<li>第二引数のカラムは、キーが一致しない場合NAとなります</li>
</ul>
</div>
</div>
</div>
<div id="結合する方法を決める" class="section level3" number="2.5.4">
<h3><span class="header-section-number">2.5.4</span> 結合する方法を決める</h3>
<ul>
<li>df_3_distinctの企業コードに対してc2のデータを紐づけたいので、ここでは<strong>left_join</strong>を使って結合します</li>
</ul>
<div class="columns">
<div class="column" style="width:42%;">
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="book_01_beginner_1st_half.html#cb145-1" aria-hidden="true" tabindex="-1"></a>df_3_distinct</span></code></pre></div>
<pre><code># A tibble: 887 x 1
   企業コード
   &lt;chr&gt;     
 1 J31299770 
 2 E32002046 
 3 D42585413 
 4 J39971897 
 5 J93122775 
 6 J34719839 
 7 L12571447 
 8 D42395106 
 9 J34594067 
10 E32304350 
# ... with 877 more rows</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:55%;">
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="book_01_beginner_1st_half.html#cb147-1" aria-hidden="true" tabindex="-1"></a>c2_201901_selected </span></code></pre></div>
<pre><code># A tibble: 2,111 x 7
   企業コード 本社所在地市区郡 業種大分類 `資本金(千円)` 従業員数
   &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;
 1 G92155635  01103_北海道札幌市東区~ G:卸売・小売業，~         862800      114
 2 G92155065  13113_東京都渋谷区~ H:金融・保険業~        3997800     2270
 3 G92143569  01104_北海道札幌市白石区~ G:卸売・小売業，~         830800      627
 4 G92141220  01101_北海道札幌市中央区~ E:建設業           981800      194
 5 G92190707  01109_北海道札幌市手稲区~ G:卸売・小売業，~         419100      267
 6 G92515950  01105_北海道札幌市豊平区~ F:製造業           399000      435
 7 G92508571  27128_大阪府大阪市中央区~ F:製造業         53879600      745
 8 G92559088  01101_北海道札幌市中央区~ K:電気・ガス・水~       27874600     7207
 9 G92552130  01104_北海道札幌市白石区~ E:建設業          3275400     1409
10 G92557890  01110_北海道札幌市清田区~ F:製造業          3815700      295
# ... with 2,101 more rows, and 2 more variables:
#   `最新期業績売上高(百万円)` &lt;dbl&gt;, `最新期業績税引後利益(千円)` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="left_joinでデータの結合" class="section level3" number="2.5.5">
<h3><span class="header-section-number">2.5.5</span> <strong>left_join</strong>でデータの結合</h3>
<ul>
<li>キーとするカラムは引数<strong>by</strong>で指定します</li>
<li>ジョインしたデータをdata_1とします</li>
</ul>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="book_01_beginner_1st_half.html#cb149-1" aria-hidden="true" tabindex="-1"></a>data_1 <span class="ot">&lt;-</span> </span>
<span id="cb149-2"><a href="book_01_beginner_1st_half.html#cb149-2" aria-hidden="true" tabindex="-1"></a>  df_3_distinct <span class="sc">%&gt;%</span></span>
<span id="cb149-3"><a href="book_01_beginner_1st_half.html#cb149-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(c2_201901_selected, <span class="at">by =</span> <span class="st">&quot;企業コード&quot;</span>)</span>
<span id="cb149-4"><a href="book_01_beginner_1st_half.html#cb149-4" aria-hidden="true" tabindex="-1"></a>data_1 <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 887
Columns: 7
$ 企業コード                   &lt;chr&gt; &quot;J31299770&quot;, &quot;E32002046&quot;, &quot;D42585413&quot;, &quot;J...
$ 本社所在地市区郡             &lt;chr&gt; &quot;13103_東京都港区&quot;, &quot;27123_大阪府大阪市淀川区&quot;, &quot;13103_東京都...
$ 業種大分類                   &lt;chr&gt; &quot;I:不動産業&quot;, &quot;L:サービス業&quot;, &quot;J:運輸・通信業&quot;, &quot;L:サービス業...
$ `資本金(千円)`               &lt;dbl&gt; 931300, 1098300, 6120900, 15432800, 99049...
$ 従業員数                     &lt;dbl&gt; 64, 1120, 216, 31059, 314, 1167, 880, 15...
$ `最新期業績売上高(百万円)`   &lt;dbl&gt; 6555, 100, 31746, 334093, 69308, 54667, 107643,...
$ `最新期業績税引後利益(千円)` &lt;dbl&gt; 910536, 1775694, 408523, 2544502, 763986, 319544...</code></pre>
</div>
<div id="step5_sanko" class="section level3" number="2.5.6">
<h3><span class="header-section-number">2.5.6</span> 参考：right_join</h3>
<ul>
<li>引数に与えるデータの順番を変えれば、right_joinを使っても、先ほどと同様の結合をすることができます</li>
<li>left_joinとright_joinは混在させないようにしましょう（混在すると可読性が下がってしまうため）</li>
</ul>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="book_01_beginner_1st_half.html#cb151-1" aria-hidden="true" tabindex="-1"></a>c2_201901_selected <span class="sc">%&gt;%</span></span>
<span id="cb151-2"><a href="book_01_beginner_1st_half.html#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(df_3_distinct, <span class="at">by =</span> <span class="st">&quot;企業コード&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb151-3"><a href="book_01_beginner_1st_half.html#cb151-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>Rows: 887
Columns: 7
$ 企業コード                   &lt;chr&gt; &quot;G92155065&quot;, &quot;G92515950&quot;, &quot;G92543356&quot;, &quot;G...
$ 本社所在地市区郡             &lt;chr&gt; &quot;13113_東京都渋谷区&quot;, &quot;01105_北海道札幌市豊平区&quot;, &quot;01101_北海...
$ 業種大分類                   &lt;chr&gt; &quot;H:金融・保険業&quot;, &quot;F:製造業&quot;, &quot;E:建設業&quot;, &quot;F:製造業&quot;, &quot;G...
$ `資本金(千円)`               &lt;dbl&gt; 3997800, 399000, 252800, 16500900, 931630...
$ 従業員数                     &lt;dbl&gt; 2270, 435, 903, 1278, 455, 2547, 606, 80...
$ `最新期業績売上高(百万円)`   &lt;dbl&gt; 127123, 18093, 16223, 112638, 361158, 116457, 1...
$ `最新期業績税引後利益(千円)` &lt;dbl&gt; 4389077, 88283, 515387, 442755, 12313348, 537846...</code></pre>
</div>
</div>
<div id="箸休めスライド" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> 箸休めスライド</h2>
<ul>
<li>relocate</li>
<li>Tabキーで補完</li>
</ul>
<div id="relocateでカラムを少しだけ並び替え" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> relocateでカラムを少しだけ並び替え</h3>
<ul>
<li>relocateは選択したカラムを先頭に移動できる関数です</li>
<li>data_1で従業員数カラムは4番目にありますが、従業員数カラムに注目したい場合1番目にあると嬉しいです</li>
<li>本資料では見栄えのために今後使用していきます</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="book_01_beginner_1st_half.html#cb153-1" aria-hidden="true" tabindex="-1"></a>data_1 <span class="sc">%&gt;%</span></span>
<span id="cb153-2"><a href="book_01_beginner_1st_half.html#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code># A tibble: 3 x 7
  企業コード 本社所在地市区郡 業種大分類 `資本金(千円)` 従業員数
  &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;
1 J31299770  13103_東京都港区 I:不動産業         931300       64
2 E32002046  27123_大阪府大阪市淀川区~ L:サービス業~        1098300     1120
3 D42585413  13103_東京都港区 J:運輸・通信業~        6120900      216
# ... with 2 more variables: `最新期業績売上高(百万円)` &lt;dbl&gt;,
#   `最新期業績税引後利益(千円)` &lt;dbl&gt;</code></pre>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="book_01_beginner_1st_half.html#cb155-1" aria-hidden="true" tabindex="-1"></a>data_1 <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb155-2"><a href="book_01_beginner_1st_half.html#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(従業員数)</span></code></pre></div>
<pre><code># A tibble: 3 x 7
  従業員数 企業コード 本社所在地市区郡 業種大分類 `資本金(千円)`
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;               &lt;dbl&gt;
1       64 J31299770  13103_東京都港区 I:不動産業         931300
2     1120 E32002046  27123_大阪府大阪市淀川区~ L:サービス業~        1098300
3      216 D42585413  13103_東京都港区 J:運輸・通信業~        6120900
# ... with 2 more variables: `最新期業績売上高(百万円)` &lt;dbl&gt;,
#   `最新期業績税引後利益(千円)` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabキーで補完入力" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Tabキーで補完入力</h3>
<ul>
<li>関数内でTabキー(またはctrl + space)を押すと、使用できる引数候補が表示され引数の説明も表示してくれます</li>
</ul>
<p><img src="../pictures/begginer/Tab-hokan-1.png" width="100%" style="display: block; margin: auto;" /></p>
<hr />
<ul>
<li>データにあるカラム名もTabで参照できます</li>
<li>またクォーテーション内でTABキーを押すと、作業ディレクトリのファイルやフォルダを参照できます</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<p><img src="../pictures/begginer/Tab-hokan-2.png" width="100%" style="display: block; margin: auto;" /></p>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<p><img src="../pictures/begginer/Tab-hokan-3.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="book_00_introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="book_02_beginner_2nd_half.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
